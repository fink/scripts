<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!--
Generated from $Fink: faq.fr.xml,v 1.81 2009/10/25 05:21:38 babayoshihiko Exp $
-->
<title>Fink Documentation - Fink - Q.F.P.</title></head><body>
<table width="100%" cellspacing="0">
<tr valign="bottom">
<td align="center">
Available Languages:  | 
<a href="faq.en.html">English</a> | 
<a href="faq.es.html">Espa&ntilde;ol</a> | 
Fran&ccedil;ais | 
<a href="faq.ja.html">&#26085;&#26412;&#35486; (Nihongo)</a> | 
<a href="faq.pt.html">Portugu&ecirc;s</a> | 
<a href="faq.ru.html">&#1056;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081; (Russkiy)</a> | 
<a href="faq.zh.html">&#20013;&#25991; (&#31616;) (Simplified Chinese)</a> | 
</td>
</tr>
</table>
<h1 style="text-align: center;">Fink - Q.F.P.</h1>
<p>Voici la liste des questions fréquemment posées sur Fink. Comme la plupart des QFP, une partie correspond à des questions réelles, d'autres ont été élaborées spécialement pour ces QFP. Il s'agit en fait d'un document écrit dans le style question-réponse.</p>
<p>Ces QFP comprennent plusieurs pages, une par chapitre. Le sommaire ci-dessous donne la liste de toutes les questions ainsi qu'un lien pour chacune d'elles.</p>
<h2>Contents</h2><ul><li><a href="#general"><b>1 Questions générales</b></a><ul><li><a href="#general.what">1.1 Qu'est-ce que Fink ?</a></li><li><a href="#general.naming">1.2 Que signifie Fink ?</a></li><li><a href="#general.bsd-ports">1.3 En quoi Fink se différencie-t-il du mécanisme de portage BSD (qui comprend OpenPackages et GNU-Darwin) ?</a></li><li><a href="#general.usr-local">1.4 Pourquoi Fink n'installe-t-il rien dans le répertoire /usr/local ?</a></li><li><a href="#general.why-sw">1.5 Pourquoi avoir choisi le répertoire /sw ?</a></li></ul></li><li><a href="#relations"><b>2 Relations avec d'autres projets</b></a><ul><li><a href="#relations.upstream">2.1 Envoyez-vous aux mainteneurs situés en amont de vous les rustines que vous faites ?</a></li><li><a href="#relations.debian">2.2 Quelles sont vos relations avec le projet Debian ? Portez-vous Debian Linux sur Mac OS X ?</a></li><li><a href="#relations.apple">2.3 Quelles sont vos relations avec Apple ?</a></li><li><a href="#relations.darwinports">2.4 Quelles sont vos relations avec DarwinPorts ?</a></li></ul></li><li><a href="#mirrors"><b>3 Miroirs de Fink</b></a><ul><li><a href="#mirrors.when-use">3.1 Qu'est-ce qu'un miroir Fink ?</a></li><li><a href="#mirrors.why">3.2 Pourquoi utiliser des miroirs rsync ?</a></li><li><a href="#mirrors.where">3.3 Où trouver de plus amples informations sur les miroirs Fink ?</a></li><li><a href="#mirrors.when-not">3.4 Il est impossible de se connecter au serveur rsync. Que faire ?</a></li><li><a href="#mirrors.otherinfogone">3.5 Après passage à la méthode rsync, tous les fichiers info des arborescences inutilisées ont disparu. Que se passe-t-il ?</a></li><li><a href="#mirrors.howswitch">3.6 Comment passer d'une méthode à une autre à volonté ?</a></li><li><a href="#mirrors.Master">3.7 Qu'est-ce qu'un miroir Distfiles ?</a></li></ul></li><li><a href="#upgrade-fink"><b>4 Mise à jour de Fink (Résolution de problèmes spécifiques à une version donnée)</b></a><ul><li><a href="#upgrade-fink.leopard-bindist1">4.1 Fink doesn't see new packages even after I've run an rsync or cvs selfupdate.</a></li><li><a href="#upgrade-fink.leopard-bindist2">4.2 When I try to install stuff I get 'Can't resolve dependency "fink (&gt;= 0.28.0)"'</a></li><li><a href="#upgrade-fink.fink-0220">4.3 Aucune mise à jour de paquets de Fink n'a eu lieu depuis un moment. Que faire ?</a></li></ul></li><li><a href="#usage-fink"><b>5 Installation, Utilisation et Mise à jour de Fink</b></a><ul><li><a href="#usage-fink.what-packages">5.1 Comment savoir quels sont les paquets gérés par Fink ?</a></li><li><a href="#usage-fink.proxy">5.2 Comment configurer fink pour utiliser un proxy HTTP quand on est derrière un mur pare-feu ?</a></li><li><a href="#usage-fink.firewalled-cvs">5.3 Comment mettre à jour les paquets disponibles sur CVS lorsqu'on utilise un mur pare-feu ?</a></li><li><a href="#usage-fink.moving">5.4 Est-il possible de déplacer Fink vers un autre dossier après l'installation ?</a></li><li><a href="#usage-fink.moving-symlink">5.5 Est-ce que Fink fonctionnera correctement si on le déplace après installation et que l'on crée un lien symbolique vers son ancien emplacement ?</a></li><li><a href="#usage-fink.removing">5.6 Comment désinstaller Fink complètement ?</a></li><li><a href="#usage-fink.bindist">5.7 La base de données des paquets sur le site web mentionne le paquet xxx, mais apt-get ou dselect eux ne le mentionnent pas. Qui a raison ?</a></li><li><a href="#usage-fink.unstable">5.8 Comment installer un paquet instable quand la commande fink ne le trouve pas (message en anglais : 'no package found') ?</a></li><li><a href="#usage-fink.unstable-onepackage">5.9 Faut-il <b>vraiment</b> activer toute l'arborescence instable pour n'installer qu'un seul paquet instable ?</a></li><li><a href="#usage-fink.sudo">5.10 Comment ne plus avoir à saisir son mot de passe après la commande sudo ?</a></li><li><a href="#usage-fink.exec-init-csh">5.11 À l'exécution de init.csh ou de init.sh, un message d'erreur signale que l'autorisation est refusée (message en anglais "Permission denied") . Que se passe-t-il ?</a></li><li><a href="#usage-fink.dselect-access">5.12 Pourquoi est-il impossible de télécharger des paquets après avoir utilisé le menu "[A]ccess" dans dselect ?</a></li><li><a href="#usage-fink.cvs-busy">5.13 Lors de l'exécution de <q>fink selfupdate</q> ou de "fink selfupdate-cvs", un message signale que la mise à jour via CVS a échoué et qu'il faut examiner les messages d'erreur situés au-dessus de cette ligne (message en anglais "<tt style="white-space: nowrap;">Updating using CVS failed. Check the error messages above.</tt>"). Que faire ?</a></li><li><a href="#usage-fink.kernel-panics">5.14 Lors de l'utilisation de Fink, ma machine se fige, entre en panique noyau ou bien plante. À l'aide !</a></li><li><a href="#usage-fink.not-found">5.15 Lors de l'installation d'un paquet, Fink ne peut le télécharger. Le site de téléchargement indique une version du paquet plus récente que celle de Fink. Que faire ?</a></li><li><a href="#usage-fink.fink-not-found">5.16 Le message "commande non trouvée" apparaît au lancement de Fink ou de tout autre paquet installé via Fink (message en anglais "command not found"). Que faire ?</a></li><li><a href="#usage-fink.invisible-sw">5.17 Est-il possible de masquer le répertoire /sw dans le Finder pour éviter que les utilisateurs ne modifient les réglages de Fink ?</a></li><li><a href="#usage-fink.install-info-bad">5.18 Il est impossible d'installer quoi que ce soit. Un message signale que l'option infodir n'est pas reconnue par la commande install-info (message en anglais "install-info: unrecognized option `--infodir=/sw/share/info'"). Que faire ?</a></li><li><a href="#usage-fink.bad-list-file">5.19 Il est impossible d'installer ou de supprimer quoi que ce soit à cause d'un problème de listes de fichiers de paquets (messages en anglais contenant "files list file"). Que faire ?</a></li><li><a href="#usage-fink.dselect-garbage">5.20 La commande <tt style="white-space: nowrap;">dselect</tt> produit un tas de lignes incompréhensibles. Comment éviter cela ?</a></li><li><a href="#usage-fink.cant-upgrade">5.21 Il est impossible de mettre à jour Fink. Que faire ?</a></li><li><a href="#usage-fink.spaces-in-directory">5.22 Est-il possible d'installer Fink sur un volume ou dans un répertoire contenant un espace dans le nom ?</a></li><li><a href="#usage-fink.packages-gz">5.23 Lors de la mise à jour binaire, de nombreux messages signalant qu'un fichier est introuvable ou qu'il est impossible d'obtenir le status de la liste d'un paquet source apparaissent (messages en anglais "File not found" ou "Couldn't stat package source list file"). Que faire ?</a></li><li><a href="#usage-fink.wrong-tree">5.24 Après mise à jour du système ou des Developer Tools, Fink ne reconnaît pas les changements apportés par ces mises à jour. Que faire ?</a></li><li><a href="#usage-fink.seg-fault">5.25 Des erreurs apparaissent lors de l'utilisation de <tt style="white-space: nowrap;">gzip</tt> ou de <tt style="white-space: nowrap;">dpkg-deb</tt> inclus dans le paquet <tt style="white-space: nowrap;">fileutils</tt>. Que faire ?</a></li><li><a href="#usage-fink.pathsetup-keeps-running">5.26 À l'ouverture d'une fenêtre de Terminal, un message signale que "l'environnement a déjà été modifié pour Fink", puis le Terminal se déconnecte (message en anglais "Your environment seems to be set up for Fink already"). Que faire ?</a></li><li><a href="#usage-fink.ext-drive">5.27 Quand Fink n'est pas installé sur la partition principale du disque, il est impossible de mettre à jour le paquet fink à partir du source. Des erreurs concernant <q>chowname</q> apparaissent. Que faire ?</a></li><li><a href="#usage-fink.mirror-gnu">5.28 Fink refuse de mettre à jour les paquets. Il semble ne pas trouver le miroir 'gnu'. Que faire ?</a></li><li><a href="#usage-fink.cant-move-fink">5.29 Il est impossible de mettre à jour Fink, car le répertoire /sw/fink ne peut être déplacé. Que faire ?</a></li><li><a href="#usage-fink.fc-cache">5.30 Un message signalant qu'"aucune police n'est trouvée" apparaît (message en anglais : "No fonts found"). Que faire ?</a></li><li><a href="#usage-fink.non-admin-installer">5.31 Il est impossible d'installer Fink à partir du paquet d'installation, le message "Ce volume ne gère pas les liens symboliques" apparaît. Que faire ?</a></li><li><a href="#usage-fink.wrong-arch">5.32 Un message signalant une contradiction entre l'architecture du paquet et celle du système empêche de mettre à jour fink (message en anglais <q>package architecture (darwin-i386) does not match system (darwin-powerpc)</q>). Que faire ?</a></li></ul></li><li><a href="#comp-general"><b>6 Problèmes généraux de compilation</b></a><ul><li><a href="#comp-general.compiler">6.1 Un script configure signale qu'il ne peut trouver un "cc acceptable". De quoi s'agit-il ?</a></li><li><a href="#comp-general.cvs">6.2 Lors de l'exécution de "fink selfupdate-cvs", un message signale que "la commande cvs est introuvable" (message en anglais : "cvs: Command not found."). Que faire ?</a></li><li><a href="#comp-general.missing-make">6.3 Un message d'erreur relatif à <tt style="white-space: nowrap;">make</tt> apparaît. Que faire ?</a></li><li><a href="#comp-general.head">6.4 Un étrange message d'erreur concernant la commande head apparaît. Que se passe-t-il ?</a></li><li><a href="#comp-general.also_in">6.5 À l'installation d'un paquet, un message d'erreur signale qu'il y a tentative d'écrasement d'un fichier situé dans un autre paquet. Que faire ?</a></li><li><a href="#comp-general.mv-failed">6.6 Lors de la construction d'un paquet, un message indique que l'exécution de la commande mv a échoué (message en anglais : "execution of mv failed, exit code 1"). Que faire ?</a></li><li><a href="#comp-general.node-exists">6.7 Il est impossible d'installer ou de mettre à jour un paquet, un message indique qu'un "noeud" existe déjà (message en anglais : "node already exists"). Que faire ?</a></li><li><a href="#comp-general.usr-local-libs">6.8 Des problèmes de compilation de paquet Fink apparaissent quand des bibliothèques ou des headers sont installés dans le répertoire /usr/local. Que faire ?</a></li><li><a href="#comp-general.toc-out-of-date">6.9 Lors de la construction d'un paquet, un message indique que la "table des matières" n'est pas à jour (message en anglais "table of contents out of date"). Que faire ?</a></li><li><a href="#comp-general.fc-atlas">6.10 Fink Commander se bloque quand on tente d'installer atlas. Que faire ?</a></li><li><a href="#comp-general.basic-headers">6.11 Un message indique qu'il est impossible de trouver les fichiers <tt style="white-space: nowrap;">stddef.h</tt>, ou <tt style="white-space: nowrap;">wchar.h</tt>, ou <tt style="white-space: nowrap;">stdlib.h</tt>, ou <tt style="white-space: nowrap;">crt1.o</tt>, ou bien encore que le <q>compilateur C ne peut créer de fichiers exécutables</q> ( message en anglais "C compiler cannot create executables"). Que faire ?</a></li><li><a href="#comp-general.multiple-dependencies">6.12 Il est impossible de mettre à jour, un message indique que Fink est "incapable de résoudre des conflits de versions entre dépendances" (message en anglais "unable to resolve version conflict on multiple dependencies"). Que faire ?</a></li><li><a href="#comp-general.dpkg-parse-error">6.13 Il est impossible d'installer quoi que ce soit, un message indique que "dpkg est incapable d'analyser la structure du fichier /sw/var/lib/dpkg/status" (message en anglais : "dpkg: parse error, in file `/sw/var/lib/dpkg/status'"). De quoi s'agit-il ?</a></li><li><a href="#comp-general.freetype-problems">6.14 Des messages d'erreurs concernant freetype apparaissent. Que faire ?</a></li><li><a href="#comp-general.dlfcn-from-oo">6.15 Des messages d'erreur concernant `Dl_info' apparaissent. Que faire ?</a></li><li><a href="#comp-general.gcc2">6.16 Fink signale que les paquets <tt style="white-space: nowrap;">gcc2</tt> ou <tt style="white-space: nowrap;">gcc3.1</tt> n'existent pas, mais il ne semble pas possible de les installer. Que faire ?</a></li><li><a href="#comp-general.system-java">6.17 Fink signale qu'il ne peut résoudre la dépendance "system-java14-dev", mais il n'existe pas de paquet system-java14-dev (message en anglais <tt style="white-space: nowrap;">Failed: Can't resolve dependency "system-java14-dev"</tt>). Que faire ?</a></li><li><a href="#comp-general.dpkg-split">6.18 Lors de l'installation d'un paquet, un message d'erreur apparaît signalant que dpkg n'arrive à exécuter dpkg-split pour vérifier si le paquet fait partie d'un paquet multiple (message en anglais : <q>dpkg (subprocess): failed to exec dpkg-split to see if it's part of a multiparter: No such file or directory</q>). Que faire ?</a></li><li><a href="#comp-general.xml-parser">6.19 Un message d'erreur signalant que le module Perl XML est requis par intltool apparaît (message en anglais: <q>configure: error: XML::Parser perl module is required for intltool</q>). Que faire ?</a></li><li><a href="#comp-general.master-problems">6.20 Lors du téléchargement d'un paquet, Fink tente de le faire à partir d'un site dont le nom contient <q>distfiles</q> et ne trouve pas le fichier. Que faire ?</a></li><li><a href="#comp-general.compile-options">6.21 Comment utiliser des options variables lors de la compilation d'un paquet ?</a></li><li><a href="#comp-general.alternates">6.22 Whenever I try to build from source, Fink keeps waffling between alternate versions of the same library.</a></li><li><a href="#comp-general.python-mods">6.23 Un message d'erreur comportant <tt style="white-space: nowrap;">MACOSX_DEPLOYMENT_TARGET </tt> apparaît lors de la compilation d'un module Python. Que faire ?</a></li><li><a href="#comp-general.libtool-unrecognized-dynamic">6.24 Un message d'erreur signalant que <tt style="white-space: nowrap;">libtool</tt>  ne reconnait pas l'option '-dynamic' apparaît (message en anglais <q>libtool: unrecognized option `-dynamic'</q>). Que faire ?</a></li></ul></li><li><a href="#comp-packages"><b>7 Problèmes de compilation spécifiques à certains paquets</b></a><ul><li><a href="#comp-packages.libgtop">7.1 La compilation d'un paquet échoue avec des messages d'erreur concernant <tt style="white-space: nowrap;">sed</tt>. Que faire ?</a></li><li><a href="#comp-packages.cant-install-xfree">7.2 Lors d'une tentative de passage aux paquets XFree86 de Fink, il est impossible d'installer le paquet <tt style="white-space: nowrap;">xfree86-base</tt> ou le paquet <tt style="white-space: nowrap;">xfree86</tt>, car ils entrent en conflit avec le paquet <tt style="white-space: nowrap;">system-xfree86</tt>. Que se passe-t-il ?</a></li><li><a href="#comp-packages.change-thread-nothread">7.3 Comment passer de la version sans processus légers à la version avec processus légers (ou vice-versa) ?</a></li><li><a href="#comp-packages.cctools">7.4 Lors de l'installation de KDE, un message signale que la dépendance au paquet "cctools (&gt;= 446-1)" ne peut être résolue (message en anglais : 'Can't resolve dependency "cctools (&gt;= 446-1)"'"). Que faire ?</a></li><li><a href="#comp-packages.libiconv-gettext">7.5 Il est impossible de mettre à jour <tt style="white-space: nowrap;">libiconv</tt>. Que faire ?</a></li><li><a href="#comp-packages.cplusplus-filt">7.6 Il est impossible d'installer un paquet car le fichier <tt style="white-space: nowrap;">c++filt</tt> n'existe pas. Où le récupérer ?</a></li><li><a href="#comp-packages.gettext-tools">7.7 Fink refuse de mettre à jour le paquet <tt style="white-space: nowrap;">gettext</tt>, car les dépendances sont incompatibles entre elles. Que faire ?</a></li><li><a href="#comp-packages.Leopard-libXrandr">7.8 I can't install <b>gtk+2</b> on OS 10.5</a></li><li><a href="#comp-packages.all-others">7.9 Des problèmes apparaissent avec un paquet qui n'est pas mentionné ici. Que faire ?</a></li></ul></li><li><a href="#usage-general"><b>8 Problèmes généraux d'utilisation de paquets</b></a><ul><li><a href="#usage-general.xlocale">8.1 De nombreux messages signalant que la locale n'est pas gérée par la bibliothèque C apparaissent (message en anglais : "locale not supported by C library"). Est-ce un problème ?</a></li><li><a href="#usage-general.passwd">8.2 Un certain nombre d'étranges utilisateurs apparaissent tout d'un coup sur mon système. Ils portent, entre autres, les noms suivants : "mysql", "pgsql" et "games". D'où proviennent-ils ?</a></li><li><a href="#usage-general.compile-myself">8.3 Comment compiler soi-même en utilisant des logiciels installés par Fink ?</a></li><li><a href="#usage-general.apple-x11-applications-menu">8.4 Il est impossible d'exécuter une application installée par Fink en utilisant le menu Applications dans X11 d'Apple. Que faire ?</a></li><li><a href="#usage-general.x-options">8.5 Il y a de nombreuses options pour X11 : X11 d'Apple, XFree86, etc... Laquelle installer ?</a></li><li><a href="#usage-general.no-display">8.6 Au lancement d'une application, un message signale que la fenêtre d'affichage ne peut être ouverte (message en anglais: "cannot open display:"). Que faire ?</a></li><li><a href="#usage-general.suggest-package">8.7 Certains programmes ne sont pas disponibles via Fink. Comment faire en sorte qu'ils soient inclus dans Fink ?</a></li><li><a href="#usage-general.virtpackage">8.8 À quoi correspondent les "paquets virtuels" <tt style="white-space: nowrap;">system-*</tt> qui apparaissent de-ci de-là, mais qu'il ne semble pas possible d'installer ou de supprimer soi-même ?</a></li></ul></li><li><a href="#usage-packages"><b>9 Problèmes d'utilisation spécifiques à certains paquets</b></a><ul><li><a href="#usage-packages.xmms-quiet">9.1 Aucun son n'est disponible dans XMMS. Que faire ?</a></li><li><a href="#usage-packages.nedit-window-locks">9.2 Lors de la modification d'un fichier dans nedit, si l'on tente d'ouvrir un autre fichier, sa fenêtre apparaît mais elle ne répond pas. Que faire ?</a></li><li><a href="#usage-packages.xdarwin-start">9.3 XDarwin quitte immédiatement après lancement. Que faire ?</a></li><li><a href="#usage-packages.no-server">9.4 Au démarrage de XDarwin, un message indique que le fichier xinit est introuvable et qu'il n'existe pas de server X accessible dans le répertoire /usr/X11R6/bin (message en anglais : "xinit: No such file or directory (errno 2): no server "/usr/X11R6/bin/X" in PATH"). Que faire ?</a></li><li><a href="#usage-packages.apple-x-delete">9.5 Comment avoir sous X11 d'Apple le même comportement de la touche suppr que sous XDarwin ?</a></li><li><a href="#usage-packages.gnome-two">9.6 Après passage de GNOME 1.x à GNOME 2.x, le programme <tt style="white-space: nowrap;">gnome-session</tt> n'ouvre plus de gestionnaire de fenêtres. Que faire ?</a></li><li><a href="#usage-packages.apple-x11-no-windowbar">9.7 Après passage à X11 d'Apple sous Panther, les barres de titre de fenêtre n'apparaissent plus. Que faire ?</a></li><li><a href="#usage-packages.apple-x11-wants-xfree86">9.8 I'm having problems with X11 and Fink.</a></li><li><a href="#usage-packages.special-x11-debug">9.9 Des problèmes persistent entre X11 et Fink. Que faire ?</a></li><li><a href="#usage-packages.tiger-gtk">9.10 Après passage à Tiger (Mac OS X 10.4), des erreurs à propos de <tt style="white-space: nowrap;">_EVP_idea_cbc</tt> apparaissent chaque fois qu'on utilise une application Gtk. Que faire ?</a></li><li><a href="#usage-packages.yelp">9.11 Il est impossible d'accéder à l'aide dans aucune application GNOME. Que faire ?</a></li></ul></li></ul><h2><a name="general">1 Questions générales</a></h2>


<a name="general.what">
<div class="question"><p><b>Q1.1: Qu'est-ce que Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> La raison d'être de Fink est d'offrir un maximum de logiciels UNIX sur Mac OS X, ce qui se traduit par deux objectifs majeurs :</p><p>L'objectif principal est de porter des logiciels sur Mac OS X. Cela signifie que nous prenons des logiciels Open Source Unix et corrigeons ce qui est nécessaire pour qu'ils compilent et tournent sur Mac OS X. Parfois la tâche est simple, mais elle peut être très difficile, voire impossible, pour certains paquets. Nous essayons de fournir des outils et des documents pour la simplifier.</p><p>L'objectif secondaire est de mettre le résultat à disposition d'utilisateurs occasionnels. Pour ce faire, nous créons une distribution en utilisant des outils de gestion de paquets portés depuis Linux, à savoir <tt style="white-space: nowrap;">dpkg</tt> et <tt style="white-space: nowrap;">apt-get</tt>, écrits par et pour le projet <a href="http://www.debian.org/">Debian GNU/Linux</a>. La distribution binaire utilise le format de paquet <tt style="white-space: nowrap;">.deb</tt>. Pour construire les paquets à partir du source, nous utilisons notre propre outil, nommé <tt style="white-space: nowrap;">fink</tt>, qui construit ces fichiers de paquet <tt style="white-space: nowrap;">.deb</tt>.</p></div>
</a>
<a name="general.naming">
<div class="question"><p><b>Q1.2: Que signifie Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Rien en particulier, ce n'est qu'un nom, même pas un acronyme.</p><p>En fait, Fink est le mot allemand désignant un fringillidé, une espèce d'oiseau. Je cherchais un nom pour le projet et le nom du système opératoire, Darwin, m'a fait penser à Charles Darwin, aux îles Galápagos et à l'évolution des espèces. Je me suis souvenu, qu'à l'école, nous avions étudié un passage sur les fringillidés pseudo-darwiniens et leurs becs, d'où le nom...</p></div>
</a>
<a name="general.bsd-ports">
<div class="question"><p><b>Q1.3: En quoi Fink se différencie-t-il du mécanisme de portage BSD (qui comprend OpenPackages et GNU-Darwin) ?</b></p></div>
<div class="answer"><p><b>A:</b> Avantages principaux de Fink :</p><ul>
<li>
<p>Il est écrit en Perl, pas en make/shell. Il ne repose donc pas sur des fonctionnalités inhérentes à BSD make. Il n'y a donc pas besoin de marquer les paquets qui doivent utiliser GNU make à la construction.</p>
</li>
<li>
<p>dpkg fournit une gestion sophistiquée des paquets binaires : mise à jour facile, gestion spéciale des fichiers de configuration, paquets virtuels et autres fonctions avancées.</p>
</li>
<li>
<p>Fink n'installe rien dans le répertoire /usr/local à moins d'une requête explicite et ne nécessite pas de jongler avec la commande /usr/bin/make ou d'autres commandes fournies par le système. Cela rend son utilisation plus sûre et réduit au minimum les interférences avec Mac OS X et les paquets de tierce partie.</p>
</li>
</ul></div>
</a>
<a name="general.usr-local">
<div class="question"><p><b>Q1.4: Pourquoi Fink n'installe-t-il rien dans le répertoire /usr/local ?</b></p></div>
<div class="answer"><p><b>A:</b> Il y a plusieurs raisons à cela, mais toutes reposent sur le fait que "cela occasionnerait des failles dans le système".</p><p>Première raison : les logiciels de tierce partie. Le répertoire /usr/local est réservé à l'installation des logiciels qui ne font pas partie du système fourni par le vendeur initial. C'est donc l'endroit idéal pour installer quelque chose. Mais, c'est aussi là que d'autres vendeurs installeront leurs logiciels. La plupart des routines d'installation viendront écraser ce qui y est déjà - cela est vrai aussi pour dpkg. On peut, bien sûr, choisir de ne pas installer de logiciels de tierce partie dans le répertoire /usr/local. Malheureusement, la plupart des routines d'installation ne signalent pas à l'avance ce qu'elles installent ni où elles l'installent.</p><p>Deuxième raison : la variable d'environnement PATH contient par défaut le répertoire /usr/local/bin. Il s'ensuit que votre shell trouve les programmes qui y sont installés sans que vous ayez à intervenir. A contrario, vous devrez intervenir si vous ne souhaitez pas utiliser ces programmes. Au pire, cela affecte le système lui-même - de nombreuses parties du système reposent sur des scripts shell.</p><p>Troisième raison : l'ensemble des outils de compilation effectuent par défaut leurs recherches dans le répertoire /usr/local. Le compilateur cherche les headers dans le répertoire /usr/local/include et l'éditeur de liens cherche les bibliothèques dans le répertoire /usr/local/lib. C'est quelquefois très pratique, mais très difficile à désactiver si le besoin s'en fait sentir. On peut facilement désactiver le compilateur en mettant dans le répertoire /usr/local/include un fichier parasite auquel on donne le nom de <tt style="white-space: nowrap;">stdio.h</tt>.</p><p>Ceci dit, il est possible d'installer Fink dans le répertoire /usr/local. Le script d'installation vous avertira que, si vous le faites, ce sera à vos risques et périls, mais continuera l'installation après votre accord.</p></div>
</a>
<a name="general.why-sw">
<div class="question"><p><b>Q1.5: Pourquoi avoir choisi le répertoire /sw ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce choix est tout-à-fait arbitraire, mais il est vraisemblable qu'il demeure le même, au moins dans un avenir prévisible, tant pour des raisons pratiques (mise à niveau) que par le fait qu'il n'entre en conflit avec aucun autre système de paquets.</p></div>
</a>
<h2><a name="relations">2 Relations avec d'autres projets</a></h2>


<a name="relations.upstream">
<div class="question"><p><b>Q2.1: Envoyez-vous aux mainteneurs situés en amont de vous les rustines que vous faites ?</b></p></div>
<div class="answer"><p><b>A:</b> Nous essayons. Parfois, c'est facile et tout le monde en profite à la prochaine version du paquet. Malheureusement, ce n'est pas toujours si simple avec la plupart des paquets. Quelques problèmes courants :</p><ul>
<li>Le mainteneur du paquet Fink est très occupé et n'a pas le temps de renvoyer la rustine et des explications détaillées aux mainteneurs situés en amont.</li>
<li>Les mainteneurs situés en amont rejette la rustine. Il peut y avoir de très bonnes raisons à cela. La plupart des mainteneurs situés en amont ont fortement intérêt à conserver un code source pur, des contrôles de configuration clairs et à maintenir la compatibilité avec les autres plates-formes.</li>
<li>Les mainteneurs situés en amont acceptent la rustine, mais cela peut prendre des semaines ou des mois avant qu'ils ne produisent une nouvelle version de leur paquet.</li>
<li>Le paquet a été abandonné par ses auteurs et il n'existe pas de nouvelle version dans laquelle la rustine peut être intégrée.</li>
</ul></div>
</a>
<a name="relations.debian">
<div class="question"><p><b>Q2.2: Quelles sont vos relations avec le projet Debian ? Portez-vous Debian Linux sur Mac OS X ?</b></p></div>
<div class="answer"><p><b>A:</b> Il n'y a pas de relation officielle entre Fink et <a href="http://www.debian.org">Debian</a>. Fink <b>n'est pas</b> un port de la distribution Debian GNU/Linux. Mais, nous avons porté les outils de gestion de paquet de Debian (dpkg, dselect, apt-get) et nous les utilisons ainsi que le format de paquet binaire .deb. Nos paquets sont faits sur mesure pour Mac OS X / Darwin et n'utilise pas le format de paquet source Debian.</p></div>
</a>
<a name="relations.apple">
<div class="question"><p><b>Q2.3: Quelles sont vos relations avec Apple ?</b></p></div>
<div class="answer"><p><b>A:</b> <a href="http://www.apple.com/">Apple</a> sait que Fink existe et nous a apporté son soutien dans le cadre de ses relations avec les projets Open Source. Durant l'été et l'automne 2001, Apple nous a fourni les sources des pré-versions de Mac OS X dans l'espoir que les paquets Fink puissent être adaptés à temps pour la version officielle. Citation : <b>"Nous espérons que cela mettra en évidence notre engagement, que d'aucuns mettent en doute. Nous nous affirmerons dans les projets open source au fil du temps."</b> Merci Apple !</p></div>
</a>
<a name="relations.darwinports">
<div class="question"><p><b>Q2.4: Quelles sont vos relations avec DarwinPorts ?</b></p></div>
<div class="answer"><p><b>A:</b> DarwinPorts et Fink sont des projets complémentaires. Certaines parties se recouvrent et plusieurs personnes contribuent aux deux projets. Benjamin Reed, par exemple, fait les paquets KDE pour les deux. DarwinPorts et Fink peuvent utiliser les rustines de l'un ou l'autre projet et nous envisageons une collaboration sur un nouveau moteur de dépendances.</p><p>DarwinPorts est parti de rien pour tenter de créer un nouveau système d'empaquetage. Lire les objectifs du projet sur la page d'<a href="http://darwinports.opendarwin.org/fr/">Accueil DarwinPorts</a>.</p></div>
</a>
<h2><a name="mirrors">3 Miroirs de Fink</a></h2>


<a name="mirrors.when-use">
<div class="question"><p><b>Q3.1: Qu'est-ce qu'un miroir Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Un miroir Fink est un serveur rsync qui reflète les fichiers de description actuels et stables que Fink utilisent pour construire les paquets à partir du source.
</p></div>
</a>
<a name="mirrors.why">
<div class="question"><p><b>Q3.2: Pourquoi utiliser des miroirs rsync ?</b></p></div>
<div class="answer"><p><b>A:</b> Rsync est un protocole très rapide. Il met à jour les fichiers de description plus vite que l'ancienne méthode de mise à jour via CVS. De plus, les mises à jour via CVS sont toujours faites à partir de sourceforge.net, tandis que les mises à jour via rsync peuvent être faites à partir d'un miroir proche de votre lieu de téléchargement.</p></div>
</a>
<a name="mirrors.where">
<div class="question"><p><b>Q3.3: Où trouver de plus amples informations sur les miroirs Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Tous les miroirs Fink sont fusionnés sous le nom de domaine finkmirrors.net. Vous trouverez de plus amples informations sur le site web http://finkmirrors.net/.</p></div>
</a>
<a name="mirrors.when-not">
<div class="question"><p><b>Q3.4: Il est impossible de se connecter au serveur rsync. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Il arrive que certains murs pare-feu particulièrement efficaces vous empêchent de vous connecter à des services rsync. Dans ce cas, continuez à utiliser la méthode CVS.</p></div>
</a>
<a name="mirrors.otherinfogone">
<div class="question"><p><b>Q3.5: Après passage à la méthode rsync, tous les fichiers info des arborescences inutilisées ont disparu. Que se passe-t-il ?</b></p></div>
<div class="answer"><p><b>A:</b> C'est normal. La méthode rsync ne met à jour que l'arborescence active, par exemple 10.3, et supprime tous les répertoires CVS.</p></div>
</a>
<a name="mirrors.howswitch">
<div class="question"><p><b>Q3.6: Comment passer d'une méthode à une autre à volonté ?</b></p></div>
<div class="answer"><p><b>A:</b> En utilisant fink selfupdate-rsync pour passer à la méthode rsync ou fink selfupdate-cvs pour passer à la méthode CVS.</p></div>
</a>

<a name="mirrors.Master">
<div class="question"><p><b>Q3.7: Qu'est-ce qu'un miroir Distfiles ?</b></p></div>
<div class="answer"><p><b>A:</b> Il est parfois difficile de trouver une version précise d'un source sur Internet. Les miroirs Distfiles stockent les paquets source nécessaires à fink pour construire ses paquets source. Ils font aussi office de miroir.</p></div>
</a>
<h2><a name="upgrade-fink">4 Mise à jour de Fink (Résolution de problèmes spécifiques à une version donnée)</a></h2>


    <a name="upgrade-fink.leopard-bindist1">
      <div class="question"><p><b>Q4.1: Fink doesn't see new packages even after I've run an rsync or cvs selfupdate.</b></p></div>
      <div class="answer"><p><b>A:</b> This is a current issue for people on OS 10.5 using the binary installer. Check your version:</p><pre>fink --version</pre><p>If you currently have <tt style="white-space: nowrap;">fink-0.27.13-41</tt>, which is the version that comes
	with the installer, or <tt style="white-space: nowrap;">fink-0.27.16-41</tt>, then there are a couple of options.</p><ul>
	  <li>
	    <b>rsync (preferred):</b>  Run the sequence below
	    <pre>fink selfupdate
fink selfupdate-rsync
fink index -f
fink selfupdate</pre>
	  </li>
	  <li>
	    <b>cvs (alternate):</b>  Run
	    <pre>fink selfupdate-cvs
fink index -f
fink selfupdate</pre>
	  </li>
	</ul><p>Either will bring you the newest <tt style="white-space: nowrap;">fink</tt> version.</p></div>
    </a>
    
    <a name="upgrade-fink.leopard-bindist2">
      <div class="question"><p><b>Q4.2: When I try to install stuff I get 'Can't resolve dependency "fink (&gt;= 0.28.0)"'</b></p></div>
      <div class="answer"><p><b>A:</b> Apply the fix from <a href="#upgrade-fink.leopard-bindist1">the prior entry.</a></p></div>
    </a>

<a name="upgrade-fink.fink-0220">
<div class="question"><p><b>Q4.3: Aucune mise à jour de paquets de Fink n'a eu lieu depuis un moment. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Vérifiez la version de fink avec la commande suivante :</p><pre>fink --version</pre><p>Il existe un problème dans <tt style="white-space: nowrap;">fink-0.22.0</tt>, qui fait que la mise à jour par rsync ne fonctionne plus. Pour mettre à jour fink, passez à la mise à jour via CVS avec la commande suivante :</p><pre>fink selfupdate-cvs	</pre><p>Cela vous permettra de passer à une nouvelle version de <tt style="white-space: nowrap;">fink</tt>. Une fois cela fait, nous vous recommandons de revenir au mode de mise à jour par rsync avec la commande suivante :</p><pre>fink selfupdate-rsync</pre></div>
</a>
<h2><a name="usage-fink">5 Installation, Utilisation et Mise à jour de Fink</a></h2>


<a name="usage-fink.what-packages">
<div class="question"><p><b>Q5.1: Comment savoir quels sont les paquets gérés par Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Depuis la version 0.2.3 de Fink, la commande list vous permet de le savoir. Cette commande produit une liste de tous les paquets connus de votre installation de Fink. Exemple :</p><pre>fink list</pre><p>Si vous utilisez la distribution binaire, <tt style="white-space: nowrap;">dselect</tt> vous donne une liste des paquets disponibles dans laquelle vous pouvez naviguer. Remarque : vous devez utiliser la commande sudo si vous voulez sélectionner et installer des paquets avec dselect.</p><p>Il y a aussi la <a href="http://pdb.finkproject.org/pdb/">base de données de paquets</a> sur le site web.</p></div>
</a>
<a name="usage-fink.proxy">
<div class="question"><p><b>Q5.2: Comment configurer fink pour utiliser un proxy HTTP quand on est derrière un mur pare-feu ?</b></p></div>
<div class="answer"><p><b>A:</b> La commande <tt style="white-space: nowrap;">fink</tt> permet de prendre en compte des réglages de proxy qui seront utilisés par <tt style="white-space: nowrap;">wget</tt> et <tt style="white-space: nowrap;">curl</tt>. Si on ne vous a pas posé de question sur vos réglages de proxies lors de la première installation, vous pouvez taper <tt style="white-space: nowrap;">fink configure</tt> pour les régler. Vous pouvez aussi utiliser cette commande à n'importe quel moment pour reconfigurer la commande <tt style="white-space: nowrap;">fink</tt>. Si vous avez suivi les instructions du guide d'installation et utilisé <tt style="white-space: nowrap;">/sw/bin/init.csh</tt> (ou <tt style="white-space: nowrap;">/sw/bin/init.sh</tt>), alors <tt style="white-space: nowrap;">apt-get</tt> et <tt style="white-space: nowrap;">dselect</tt> utiliseront aussi ces réglages de proxies. Assurez-vous d'avoir bien indiqué le protocole utilisé, par exemple :</p><pre>ftp://proxy.votresite.quelquepart</pre><p>Si vous avez toujours des problèmes, allez dans Préférences système, cliquez sur Réseaux, sélectionnez l'onglet proxies et vérifiez que la case "Utiliser le mode FTP passif (PASV)" est cochée.</p></div>
</a>
<a name="usage-fink.firewalled-cvs">
<div class="question"><p><b>Q5.3: Comment mettre à jour les paquets disponibles sur CVS lorsqu'on utilise un mur pare-feu ?</b></p></div>
<div class="answer"><p><b>A:</b> Le paquet<b> cvs-proxy</b> peut créer un tunnel à travers les proxies HTTP.</p><ul>
<li><p>Installez le paquet <b>cvs-proxy</b> avec la commande :</p>
<p><tt style="white-space: nowrap;">fink --use-binary-dist install <b>cvs-proxy</b></tt></p></li>
<li><p>Passez à la mise à jour via cvs avec la commande :</p>
<p><tt style="white-space: nowrap;">fink selfupdate-cvs</tt></p></li>
</ul><p>Si Fink n'est pas configuré pour utiliser un proxy, changez les réglages en utilisant :</p><p><tt style="white-space: nowrap;">fink configure</tt>.</p></div>
</a>
<a name="usage-fink.moving">
<div class="question"><p><b>Q5.4: Est-il possible de déplacer Fink vers un autre dossier après l'installation ?</b></p></div>
<div class="answer"><p><b>A:</b> Non. Vous pouvez bien sûr déplacer les fichiers en utilisant mv ou le Finder, mais 99% des programmes ne fonctionneront plus si vous faites cela. En effet, la majorité des programmes Unix utilisent des chemins d'accès directement inclus dans le fichier binaire pour accéder,entre autres, à des données et des bibliothèques.</p></div>
</a>
<a name="usage-fink.moving-symlink">
<div class="question"><p><b>Q5.5: Est-ce que Fink fonctionnera correctement si on le déplace après installation et que l'on crée un lien symbolique vers son ancien emplacement ?</b></p></div>
<div class="answer"><p><b>A:</b> Peut-être. On peut supposer que le fonctionnement sera correct dans l'ensemble, mais il y aura certainement des problèmes ici ou là.</p></div>
</a>
<a name="usage-fink.removing">
<div class="question"><p><b>Q5.6: Comment désinstaller Fink complètement ?</b></p></div>
<div class="answer"><p><b>A:</b> Presque tous les fichiers installés par fink se trouvent dans le répertoire /sw (ou bien l'endroit où vous avez choisi de faire l'installation). Donc, pour supprimer Fink, entrez cette commande :</p><pre>sudo rm -rf /sw</pre><p>Les seules exceptions à cette règle concernent XFRee86 et X.org. Si vous avez installé un serveur X via Fink (vous avez, par exemple, installé le paquet <tt style="white-space: nowrap;">xfree86</tt> ou <tt style="white-space: nowrap;">xfree86-rootless</tt>, ou encore <tt style="white-space: nowrap;">xorg</tt> au lieu d'utiliser <tt style="white-space: nowrap;">system-xfree86</tt>) et que vous voulez le supprimer, vous devrez aussi saisir ceci :</p><pre>sudo rm -rf /usr/X11R6 /etc/X11 /Applications/XDarwin.app</pre><p>Si vous ne pensez pas réinstaller Fink, vous pouvez aussi supprimer, en utilisant un éditeur de texte, la ligne "<tt style="white-space: nowrap;">source /sw/bin/init.csh</tt>" que vous aviez ajoutée dans le fichier <tt style="white-space: nowrap;">.cshrc</tt> ou la ligne "<tt style="white-space: nowrap;">source /sw/bin/init.sh</tt>" que vous aviez ajoutée dans le fichier <tt style="white-space: nowrap;">.bashrc</tt>, selon vos réglages.</p></div>
</a>
<a name="usage-fink.bindist">
<div class="question"><p><b>Q5.7: La base de données des paquets sur le site web mentionne le paquet xxx, mais apt-get ou dselect eux ne le mentionnent pas. Qui a raison ?</b></p></div>
<div class="answer"><p><b>A:</b> Ils ont tous raison. La <a href="http://pdb.finkproject.org/pdb/">base de données des paquets</a> donne la liste de tous les paquets, même ceux qui sont encore dans la section instable. Les outils <tt style="white-space: nowrap;">dselect</tt> et <tt style="white-space: nowrap;">apt-get</tt>, de leur côté, donnent la liste des paquets disponibles en tant que binaires précompilés. De nombreux paquets ne sont pas disponibles sous forme précompilée via ces outils pour diverses raisons. Un paquet doit être dans la section "stable" de la dernière mise à jour de Fink pour être pris en compte, et il doit, de plus, passer avec succès un certain nombre de tests relatifs aux règles de fink et aux restrictions de licences et brevets.</p><p>Si vous voulez installer un paquet qui n'est pas disponible via <tt style="white-space: nowrap;">dselect</tt> ou <tt style="white-space: nowrap;">apt-get</tt>, vous devez le compiler à partir du code source en utilisant <tt style="white-space: nowrap;">fink install <b>nom_du_paquet</b></tt>. Vérifiez que vous avez installé les Developer Tools avant d'essayer ceci. (S'il n'y a pas d'installeur pour les Developer Tools dans votre répertoire <tt style="white-space: nowrap;">/Applications</tt> , vous pouvez les télécharger gratuitement sur <a href="http://connect.apple.com/">Apple Developer Connection</a> après enregistrement). Voir aussi la question suivante à propos des paquets instables.</p></div>
</a>
<a name="usage-fink.unstable">
<div class="question"><p><b>Q5.8: Comment installer un paquet instable quand la commande fink ne le trouve pas (message en anglais : 'no package found') ?</b></p></div>
      <div class="answer"><p><b>A:</b> First make sure you understand what 'unstable' means. Packages in
        the unstable tree are not in stable for any number of reasons.  It
        could be because there are known issues, validation errors, or just
        not enough people giving feedback that the package works for them.
        For that reason, Fink doesn't search the unstable tree by
        default.</p><p>If you do enable unstable, please remember to e-mail the
        maintainer if something works (or even if it doesn't). Feedback from
        users like you is what we use to determine if something is ready for
        stable! To find out the maintainer of a package, run <tt style="white-space: nowrap;">fink info
        <b>packagename</b></tt>.</p><p>For <tt style="white-space: nowrap;">fink-0.26</tt> and later:  If you run
	<tt style="white-space: nowrap;">fink configure</tt> one of the questions will ask whether you
	want to turn the unstable trees on.  </p><p>To configure Fink to use unstable
	when you have an earlier version of the <tt style="white-space: nowrap;">fink</tt> tool than
	<b>0.26</b>, edit
        <tt style="white-space: nowrap;">/sw/etc/fink.conf</tt>, and add <tt style="white-space: nowrap;">unstable/main</tt>
        and <tt style="white-space: nowrap;">unstable/crypto</tt> to the <tt style="white-space: nowrap;">Trees:</tt> line.</p><p>If you use Fink Commander, then there is a Preference to use unstable
	packages.</p><p>None of these options actually download the unstable tree's package
	descriptions.You'll need to turn on <tt style="white-space: nowrap;">rsync</tt> or
	<tt style="white-space: nowrap;">cvs</tt> updating to do this, which is not set up by default on a new
	Fink installation.  The following command sequence will set you up on
	a new Fink installation:</p><pre>fink selfupdate</pre><p>followed by</p><pre>fink selfupdate-rsync</pre><p>or</p><pre>fink selfupdate-cvs</pre><p>and then</p><pre>fink index -f
fink scanpackages</pre><p><b>Note:</b>  There are Fink Commander analogs for everything except
	<tt style="white-space: nowrap;">fink index -f</tt>.  You will have to use the command line for that.</p><p>If you're already set up with <tt style="white-space: nowrap;">rsync</tt> or <tt style="white-space: nowrap;">cvs</tt>
	updating, then the following
	command sequence (or the Fink Commander analogs) will suffice:</p><pre>
fink selfupdate
fink index
fink scanpackages
	</pre><p>If you're not sure what your update method is, check
	<tt style="white-space: nowrap;">fink --version</tt> in at a command line
	and see if that mentions <tt style="white-space: nowrap;">cvs</tt> or <tt style="white-space: nowrap;">rsync</tt>.</p><p>If you don't want to install any more from unstable than
        your specific package(s) and its (their) dependencies, (and any base packages
	that got updated) don't use the
        <tt style="white-space: nowrap;">update-all</tt> command until you turn the unstable tree
        back off.</p></div>
</a>

<a name="usage-fink.unstable-onepackage">
<div class="question"><p><b>Q5.9: Faut-il <b>vraiment</b> activer toute l'arborescence instable pour n'installer qu'un seul paquet instable ?</b></p></div>
<div class="answer"><p><b>A:</b> Non, mais c'est fortement recommandé. Le mélange des genres peut créer des effets inattendus et rendre difficile un éventuel débogage.</p><p>Ceci dit, si vous ne voulez installer qu'un ou deux paquets instables spécifiques, vous devez changer vos réglages pour utiliser la mise à jour CVS (c'est-à-dire utiliser <tt style="white-space: nowrap;">fink selfupdate-cvs</tt>), car rsync ne met à jour que les arborescences activées dans le fichier <tt style="white-space: nowrap;">fink.conf</tt>. Éditez le fichier <tt style="white-space: nowrap;">/sw/etc/fink.conf</tt> et ajoutez <tt style="white-space: nowrap;">local/main</tt> à la ligne <tt style="white-space: nowrap;">Trees:</tt>, si elle n'y figure pas déjà. Vous devrez alors exécuter <tt style="white-space: nowrap;">fink selfupdate</tt> pour télécharger les fichiers de description des paquets. Copiez ensuite les fichiers <tt style="white-space: nowrap;">.info</tt> qui vous intéressent (et leurs fichiers <tt style="white-space: nowrap;">.patch</tt> associés, s'ils existent) à partir des sous-répertoires du répertoire <tt style="white-space: nowrap;">/sw/fink/dists/unstable/main/finkinfo</tt> (ou à partir du répertoire <tt style="white-space: nowrap;">/sw/fink/dists/unstable/crypto/finkinfo</tt>) dans le répertoire <tt style="white-space: nowrap;">/sw/fink/dists/local/main/finkinfo</tt>. Notez cependant que votre paquet peut dépendre d'autres paquets (ou de versions particulières de paquets) qui sont uniquement présents dans l'arborescence instable. Vous devrez alors déplacer aussi leurs fichiers <tt style="white-space: nowrap;">.info</tt> et <tt style="white-space: nowrap;">.patch</tt> associés. Après avoir déplacé tous les fichiers, lancez la commande <tt style="white-space: nowrap;">fink index</tt> pour que l'index des paquets disponibles de Fink soit mis à jour. Vous pourrez ensuite utiliser rsync à nouveau (<tt style="white-space: nowrap;">fink selfupdate-rsync</tt>) si vous le désirez.</p></div>
</a>
<a name="usage-fink.sudo">
<div class="question"><p><b>Q5.10: Comment ne plus avoir à saisir son mot de passe après la commande sudo ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous n'êtes pas paranoïaque, vous pouvez configurer sudo pour qu'il ne vous demande pas votre mot de passe. Pour cela, mettez-vous en mode super-utilisateur et lancez <tt style="white-space: nowrap;">visudo</tt>, puis ajoutez la ligne suivante :</p><pre>username ALL =(ALL) NOPASSWD: ALL</pre><p>Remplacez bien sûr <tt style="white-space: nowrap;">nomutilisateur</tt> par votre nom d'utilisateur. Cette ligne vous permet d'exécuter n'importe quelle commande avec sudo sans saisir votre mot de passe.</p></div>
</a>
<a name="usage-fink.exec-init-csh">
<div class="question"><p><b>Q5.11: À l'exécution de init.csh ou de init.sh, un message d'erreur signale que l'autorisation est refusée (message en anglais "Permission denied") . Que se passe-t-il ?</b></p></div>
<div class="answer"><p><b>A:</b> init.csh et init.sh ne doivent pas être exécutés comme les commandes habituelles. Ces fichiers définissent des variables d'environnement, tels PATH ou MANPATH, dans votre shell. Pour avoir un effet durable sur votre shell, il faut utiliser la commande <tt style="white-space: nowrap;">source</tt> pour csh et tcsh ou la commande <tt style="white-space: nowrap;">.</tt> pour bash et zsh, comme ceci :</p><p>pour csh/tcsh :</p><pre>source /sw/bin/init.csh</pre><p>pour bash/zsh :</p><pre>. /sw/bin/init.sh</pre></div>
</a>
<a name="usage-fink.dselect-access">
<div class="question"><p><b>Q5.12: Pourquoi est-il impossible de télécharger des paquets après avoir utilisé le menu "[A]ccess" dans dselect ?</b></p></div>
<div class="answer"><p><b>A:</b> Vous avez certainement fait pointer apt sur un miroir Debian, qui ne contient, bien sûr, aucun des fichiers de Fink. Vous pouvez corriger cela manuellement ou via dselect. Pour le faire manuellement, modifiez en tant que super-utilisateur le fichier <tt style="white-space: nowrap;">/sw/etc/apt/sources.list </tt>dans un éditeur de texte. Supprimez les lignes qui mentionnent debian.org et remplacez-les par celles-ci :</p><pre>deb http://us.dl.sourceforge.net/fink/direct_download release \
main crypto
deb http://us.dl.sourceforge.net/fink/direct_download current main \
crypto</pre><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>(Si vous vivez en Europe, remplacez <tt style="white-space: nowrap;">us.dl.sourceforge.net</tt> par <tt style="white-space: nowrap;">eu.dl.sourceforge.net</tt>)</p><p>Pour modifier avec dselect, relancez "[A]ccess", choisissez la méthode "apt" et entrez les informations suivantes :</p><p>URL: http://us.dl.sourceforge.net/fink/direct_download - Distribution: release - Components: main crypto</p><p>Ensuite, spécifiez que vous voulez ajouter une autre source et répétez la procédure avec "current" à la place de "release".</p><p>Une version modifiée du paquet apt (contenant le script de configuration en tant que plug-in de dselect) est en cours de développement dans CVS.</p></div>
</a>
<a name="usage-fink.cvs-busy">
<div class="question"><p><b>Q5.13: Lors de l'exécution de <q>fink selfupdate</q> ou de "fink selfupdate-cvs", un message signale que la mise à jour via CVS a échoué et qu'il faut examiner les messages d'erreur situés au-dessus de cette ligne (message en anglais "<tt style="white-space: nowrap;">Updating using CVS failed. Check the error messages above.</tt>"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si le message est le suivant :</p><pre>Can't exec "cvs": No such file or directory at 
/sw/lib/perl5/Fink/Services.pm line 216, &lt;STDIN&gt; line 3.
### execution of cvs failed, exit code -1</pre><p>alors vous devez installer les Developer Tools.</p><p>Si, par contre, la dernière ligne est la suivante :</p><pre>### execution of su failed, exit code 1</pre><p>vous devrez regarder plus haut pour voir l'erreur. Si vous voyez un message précisant que votre connection à été refusée :</p><pre>(Logging in to anonymous@fink.cvs.sourceforge.net)
CVS password:
cvs [login aborted]: connect to fink.cvs.sourceforge.net:2401 failed: 
Connection refused
### execution of su failed, exit code 1
Failed: Logging into the CVS server for anonymous read-only access \
failed.</pre><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>ou bien un message comme le suivant :</p><pre>cvs [update aborted]: recv() from server fink.cvs.sourceforge.net: 
Connection reset by peer 
### execution of su failed, exit code 1 
Failed: Updating using CVS failed. Check the error messages above.</pre><p>ou :</p><pre>cvs [update aborted]: End of file received from server</pre><p>ou encore :</p><pre>cvs [update aborted]: received broken pipe signal</pre><p>alors il est possible que le serveur CVS soit surchargé. Il vous faudra réessayer plus tard.</p><p>Il se peut que les permissions soient mal définies dans votre dossier CVS et que vous n'y ayez pas accès, ce qui génère des messages de "refus d'autorisation" (message en anglais :"Permission denied") :</p><pre>cvs update: in directory 10.2/stable/main: 
cvs update: cannot open CVS/Entries for reading: No such file or \
directory
cvs server: Updating 10.2/stable/main 
cvs update: cannot write 10.2/stable/main/.cvsignore: Permission \
denied
cvs [update aborted]: cannot make directory \
10.2/stable/main/finkinfo: 
No such file or directory 
### execution of su failed, exit code 1 Failed: 
Updating using CVS failed. Check the error messages above.</pre><p>Dans ce cas-là, vous devez réinitialiser votre répertoire CVS. Pour ce faire, utilisez la commande :</p><pre>sudo find /sw/fink -type d -name 'CVS' -exec rm -rf {}\
; fink selfupdate-cvs</pre><p>Si vous ne voyez aucun des messages ci-dessus, il est très probable que vous ayez modifié un fichier dans l'arborescence /sw/fink/dists et que le mainteneur ait modifié ce fichier. Regardez de nouveau dans le message apparu après selfupdate-cvs les lignes commençant par "C", comme :</p><pre>C 10.2/unstable/main/finkinfo/libs/db31-3.1.17-6.info 
... (other info and patch files) ... 
### execution of su failed, exit code 1 
Failed: Updating using CVS failed. Check the error messages above.</pre><p>La lettre "C" signifie que CVS a rencontré un problème en essayant de mettre à jour la dernière version. La solution consiste à retirer tous les fichiers info ou patch correspondant aux lignes commençant par "C" dans le message de sortie de selfupdate-cvs, et à essayer de nouveau. Par exemple :</p><pre>sudo rm /sw/fink/10.2/unstable/main/finkinfo/libs/db31-3.1.17-6.info
fink selfupdate-cvs</pre><p>If you get errors that mention <b>cvs.sourceforge.net</b>:</p><pre>
cvs [update aborted]: connect to cvs.sourceforge.net(66.35.250.207):
2401 failed: Operation timed out
</pre><p>this is because of a restructuring of the CVS servers at sourceforge.net in 2006.  Fink files are now at <b>fink.cvs.sourceforge.net</b>.</p><p>Check your Distribution version, e.g. via</p><pre>fink --version</pre><p>If that shows <tt style="white-space: nowrap;">10.4-transitional</tt>, then you need to update to the regular 10.4 distribution.  An <a href="http://prdownloads.sourceforge.net/fink/scripts-10.4-update-0.4.tar.gz?download">update script</a> has been created to assist with that.</p></div>
</a>
<a name="usage-fink.kernel-panics">
<div class="question"><p><b>Q5.14: Lors de l'utilisation de Fink, ma machine se fige, entre en panique noyau ou bien plante. À l'aide !</b></p></div>
<div class="answer"><p><b>A:</b> À l'automne 2002, de nombreuses personnes ont signalé sur la liste de diffusion <a href="http://sourceforge.net/mailarchive/forum.php?forum=fink-users">fink-users</a> des problèmes (y compris des paniques noyau ou des suspensions infinies lors de l'application d'une rustine) quand on utilise Fink pour compiler des paquets, alors qu'un anti-virus est installé. Il faut alors désactiver l'anti-virus avant d'utiliser Fink.</p></div>
</a>
<a name="usage-fink.not-found">
<div class="question"><p><b>Q5.15: Lors de l'installation d'un paquet, Fink ne peut le télécharger. Le site de téléchargement indique une version du paquet plus récente que celle de Fink. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Les sources du paquet sont déplacées par les sites en amont quand de nouvelles versions sont publiées.</p><p>La première chose à faire est d'exécuter <tt style="white-space: nowrap;">fink selfupdate</tt>. Il est possible que le responsable du paquet ait déjà pris ce changement en compte. Vous obtiendrez alors une mise à jour de la description du paquet soit avec une version plus récente, soit avec une nouvelle URL de téléchargement.</p><p>Si cela ne marche pas, la plupart des sources sont accessibles sur <a href="http://distfiles.master.finkmirrors.net/">http://distfiles.master.finkmirrors.net/</a> (grâce à Rob Braun), et vous pouvez exécuter <tt style="white-space: nowrap;">fink configure</tt> pour choisir les miroirs source "Master", afin que Fink s'y réfère automatiquement.</p><p>Si cela ne marche pas, veuillez informer le mainteneur du paquet (disponible via "<tt style="white-space: nowrap;">fink describe <b>nom_du_paquet</b></tt>") que l'URL n'est pas valide. Tous les mainteneurs ne lisent pas la liste de diffusion régulièrement.</p><p>Pour obtenir un source utilisable, recherchez d'abord dans les autres répertoires du site distant la version du source que Fink recherche. (par exemple dans un répertoire "old"). Rappelez-vous, cependant, que certains sites distants ne conservent pas les anciennes versions de leurs paquets. Si le site officiel ne l'a pas, recherchez sur la toile - il arrive parfois que des sites non officiels aient l'archive tar que vous cherchez. Recherchez aussi sur <a href="http://us.dl.sourceforge.net/fink/direct_download/source/">http://us.dl.sourceforge.net/fink/direct_download/source/</a>. C'est là que Fink sauvegarde les fichiers source des paquets qui ont été distribués sous forme binaire. Si rien de ce qui précède ne fonctionne, postez alors un message sur la liste de diffusion <a href="http://sourceforge.net/mailarchive/forum.php?forum=fink-users">fink-users</a> pour demander si quelqu'un peut mettre à votre disposition l'ancien source.</p><p>Une fois l'archive tar adéquate repérée, téléchargez-la manuellement et placez-la dans le répertoire des sources de Fink (c'est-à-dire pour l'installation par défaut de Fink, utilisez la commande "<tt style="white-space: nowrap;">sudo mv <b>package-source.tar.gz</b> /sw/src/</tt>". Puis utilisez la commande '<tt style="white-space: nowrap;">fink install <b>nom_du_paquet</b></tt>' comme d'habitude.</p><p>Si vous n'arrivez pas à obtenir le fichier source, vous devrez alors attendre que le mainteneur se charge du problème. Il peut soit poster un lien vers une source ancienne, soit mettre à jour les fichiers .info et .patch pour utiliser la nouvelle version.</p></div>
</a>
<a name="usage-fink.fink-not-found">
<div class="question"><p><b>Q5.16: Le message "commande non trouvée" apparaît au lancement de Fink ou de tout autre paquet installé via Fink (message en anglais "command not found"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si cela se produit systématiquement, vous avez probablement modifié involontairement (ou omis de modifier) vos scripts de démarrage. Lancez le script <tt style="white-space: nowrap;">/sw/bin/pathsetup.sh</tt> (soit en double-cliquant dans le Finder, soit dans une fenêtre de terminal). Le script tentera de deviner votre shell par défaut et y ajoutera une commande de chargement du script d'initialisation du shell de Fink dans votre configuration shell. Vous devrez alors ouvrir une nouvelle session de terminal, de façon à ce que vos paramètres d'environnement soient pris en compte. <b>Note</b> : dans certaines versions anciennes de fink, ce script s'appelle <tt style="white-space: nowrap;">pathsetup.command</tt> au lieu de <tt style="white-space: nowrap;">pathsetup.sh</tt>. Pour modifier le script de démarrage, vous pouvez également lancer l'application <tt style="white-space: nowrap;">pathsetup.app</tt>, qui se trouve dans l'image disque de la distribution binaire de Fink.</p><p>Par contre, si cela ne se produit que dans le terminal X11 d'Apple, la meilleure solution est de modifier la définition de "Terminal" dans le menu Applications via le sous-menu <b>Applications-&gt;Personnaliser le menu...</b>. Au lieu de :</p><pre>xterm</pre><p>mettez :</p><pre>xterm -ls</pre><p>dans le champ commande. Ici, <tt style="white-space: nowrap;">ls</tt> signifie <q>login shell (c'est-à-dire shell d'ouverture de session)</q>. Il en résulte que tous les paramètres de votre ouverture de session sont utilisés (tout comme dans le Terminal de Mac OS X).</p><p>Les scripts <tt style="white-space: nowrap;">/sw/bin/init.*</tt> font beaucoup plus qu'ajouter le répertoire <tt style="white-space: nowrap;">/sw/bin</tt> à votre variable d'environnement PATH. La plupart des paquets ne fonctionnent pas correctement si ces scripts n'ont pas été lancés au démarrage.</p></div>
</a>
<a name="usage-fink.invisible-sw">
<div class="question"><p><b>Q5.17: Est-il possible de masquer le répertoire /sw dans le Finder pour éviter que les utilisateurs ne modifient les réglages de Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Oui. Si vous avez installé les Developer Tools, utilisez la commande suivante :</p><pre>sudo /Developer/Tools/SetFile -a V /sw</pre><p>Cela a pour effet de rendre invisible le répertoire /sw, tout comme le sont les autres répertoires standards utilisés par le système (/usr, etc...). Si vous n'avez pas installé les Developer Tools, il existe plusieurs applications de tierce-partie qui vous permettent de changer les attributs des fichiers - vous devez rendre le répertoire /sw invisible.</p></div>
</a>
<a name="usage-fink.install-info-bad">
<div class="question"><p><b>Q5.18: Il est impossible d'installer quoi que ce soit. Un message signale que l'option infodir n'est pas reconnue par la commande install-info (message en anglais "install-info: unrecognized option `--infodir=/sw/share/info'"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ceci est généralement lié à un problème sur la variable d'environnement PATH. Lancez dans une fenêtre de terminal :</p><pre>printenv PATH</pre><p>Si <tt style="white-space: nowrap;">/sw/sbin</tt> n'apparaît pas, vous devrez alors modifier vos variables d'environnement comme expliqué dans les <a href="http://www.finkproject.org/doc/users-guide/install.php#setup">instructions</a> du Guide de l'Utilisateur. Si <tt style="white-space: nowrap;">/sw/sbin</tt> est bien là, mais qu'il y a d'autres répertoires avant (par exemple <tt style="white-space: nowrap;">/usr/local/bin</tt>), vous devrez alors réordonner votre variable d'environnement PATH pour que <tt style="white-space: nowrap;">/sw/sbin</tt> soit proche du début. Si vous voulez cependant que les autres répertoires soit avant <tt style="white-space: nowrap;">/sw/sbin</tt>, et qu'ils contiennent des répertoires appelés eux aussi install-info, il faudra alors renommer temporairement ces sous-répertoires <tt style="white-space: nowrap;">install-info</tt> quand vous utiliserez Fink.</p></div>
</a>
<a name="usage-fink.bad-list-file">
<div class="question"><p><b>Q5.19: Il est impossible d'installer ou de supprimer quoi que ce soit à cause d'un problème de listes de fichiers de paquets (messages en anglais contenant "files list file"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> En général, ces erreurs sont de la forme :</p><pre>files list file for package <b>nom_du_paquet</b> contains empty filename</pre><p>ou</p><pre>files list file for package <b>nom_du_paquet</b> is missing final newline</pre><p>Cela peut être corrigé relativement facilement. Si vous avez sur votre système le fichier .deb du paquet posant problème, vérifiez son intégrité en tapant la commande suivante :</p><pre>dpkg --contents <b>chemin_complet_du_fichier_deb</b></pre><p>par exemple :</p><pre>dpkg --contents /sw/fink/debs/libgnomeui2-dev_2.0.6-2_darwin\
-powerpc.deb</pre><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>Si vous obtenez une liste de répertoires et de fichiers, votre fichier .deb est valide. Si, par contre, le résultat est différent ou si vous n'avez pas le fichier .deb, vous pouvez continuer car cette erreur n'interfère pas avec les éléments compilés.</p><p>Si vous avez fait l'installation à partir de la distribution binaire, ou bien si vous êtes certain que la version que vous avez installée est identique à celle de la distribution (vous l'avez vérifié dans la <a href="http://pdb.finkproject.org/pdb/index.php"> base de données des paquets</a>), alors vous pouvez télécharger un fichier .deb en lançant <tt style="white-space: nowrap;">sudo apt-get install --reinstall --download-only <b>nom_du_paquet</b></tt>. Vous pouvez aussi le compiler vous-même avec la commande <tt style="white-space: nowrap;">fink rebuild <b>nom_du_paquet</b></tt>, mais cela ne l'installera pas.</p><p>Quand vous aurez un fichier .deb valide, vous pouvez reconstituer le fichier. Tout d'abord, mettez-vous en mode super-utilisateur en utilisant la commande <tt style="white-space: nowrap;">sudo -s</tt> (saisissez votre mot de passe administrateur si nécessaire), puis utilisez la commande suivante :</p><pre>dpkg -c <b>chemin_complet_du_fichier_deb</b> | awk '{if ($6 == "./")\
{ print "/."; } \
else if (substr($6, length($6), 1) == "/")\
{print substr($6, 2, length($6) - 2); } \
else { print substr($6, 2, length($6) - 1);}}'\ 
&gt; /sw/var/lib/dpkg/info/<b>nom_du_paquet</b>.list</pre><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>par exemple :</p><pre>dpkg -c /sw/fink/debs/libgnomeui2-dev_2.0.6-2_darwin-powerpc.deb | \
awk \
'{if ($6 == "./") { print "/."; } \
else if (substr($6, length($6), 1) == "/") \
{print substr($6, 2, length($6) - 2); } \
else { print substr($6, 2, length($6) - 1);}}' \ 
&gt; /sw/var/lib/dpkg/info/libgnomeui2-dev.list</pre><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>Cela a pour effet d'extraire le contenu du fichier .deb, de tout supprimer sauf les noms de fichiers, puis de les écrire dans le fichier .list.</p></div>
</a>
<a name="usage-fink.dselect-garbage">
<div class="question"><p><b>Q5.20: La commande <tt style="white-space: nowrap;">dselect</tt> produit un tas de lignes incompréhensibles. Comment éviter cela ?</b></p></div>
<div class="answer"><p><b>A:</b> <tt style="white-space: nowrap;">dselect</tt> et <tt style="white-space: nowrap;">Terminal.app</tt> communiquent assez mal. Pour résoudre ce problème, vous pouvez lancer cette commande :</p><p>Utilisateurs de tcsh :</p><pre>setenv TERM xterm-color</pre><p>Utilisateurs de bash :</p><pre>export TERM=xterm-color</pre><p>avant de lancer <tt style="white-space: nowrap;">dselect</tt>. Vous pouvez mettre ceci dans votre fichier de démarrage (par exemple <tt style="white-space: nowrap;">.cshrc</tt> ou <tt style="white-space: nowrap;">.profile</tt>) pour que cela se fasse automatiquement.</p></div>
</a>

<a name="usage-fink.cant-upgrade">
<div class="question"><p><b>Q5.21: Il est impossible de mettre à jour Fink. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Suivez les <a href="http://www.finkproject.org/download/fix-upgrade.php">instructions spéciales</a> dans ce cas.</p><p>Quand ni l'exécution de la commande <tt style="white-space: nowrap;">fink selfupdate</tt>, ni celle des commandes <tt style="white-space: nowrap;">sudo apt-get update ; sudo apt-get dist-upgrade</tt> n'aboutissent à la mise à jour effective de Fink, vous devez télécharger une nouvelle version du paquet <tt style="white-space: nowrap;">fink</tt> de la manière suivante :</p><ul>
<li><b>10.3.x :</b> (distribution 0.7.1)
<pre>curl -O http://us.dl.sf.net/fink/direct_download/dists/\
fink-0.7.1-updates/main/binary-darwin-powerpc\
/base/fink_0.22.4-1_darwin-powerpc.deb
sudo dpkg -i fink_0.22.4-1_darwin-powerpc.deb
rm fink_0.22.4-1_darwin-powerpc.deb
fink selfupdate</pre></li>
<li><b>10.2.x :</b> (distribution 0.6.3)
<pre>curl -O http://us.dl.sf.net/fink/direct_download/dists/\
fink-0.6.3/release/main/binary-darwin-powerpc/base\
/fink_0.18.3-1_darwin-powerpc.deb
sudo dpkg -i fink_0.18.3-1_darwin-powerpc.deb
rm fink_0.18.3-1_darwin-powerpc.deb
fink selfupdate</pre></li>
</ul><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p></div>
</a>
<a name="usage-fink.spaces-in-directory">
<div class="question"><p><b>Q5.22: Est-il possible d'installer Fink sur un volume ou dans un répertoire contenant un espace dans le nom ?</b></p></div>
<div class="answer"><p><b>A:</b> Nous déconseillons de le faire. Le jeu n'en vaut vraiment pas la chandelle.</p></div>
</a>
<a name="usage-fink.packages-gz">
<div class="question"><p><b>Q5.23: Lors de la mise à jour binaire, de nombreux messages signalant qu'un fichier est introuvable ou qu'il est impossible d'obtenir le status de la liste d'un paquet source apparaissent (messages en anglais "File not found" ou "Couldn't stat package source list file"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous voyez ceci :</p><pre>
Err file: local/main Packages
File not found
Ign file: local/main Release
Err file: stable/main Packages
File not found
Ign file: stable/main Release
Err file: stable/crypto Packages
File not found
Ign file: stable/crypto Release
...
Failed to fetch file:/sw/fink/dists/local/main/binary-darwin-\
powerpc/Packages
File not found
Failed to fetch file:/sw/fink/dists/stable/main/binary-darwin-\
powerpc/Packages
File not found
Failed to fetch file:/sw/fink/dists/stable/crypto/binary-darwin\
-powerpc/Packages
File not found
Reading Package Lists... Done
Building Dependency Tree... Done
E: Some index files failed to download, 
they have been ignored, or old ones used instead.
update available list script returned error exit status 1.
</pre><p>Exécutez simplement <tt style="white-space: nowrap;">fink scanpackages</tt>. Cela générera les fichiers introuvables.</p><p>Si l'erreur est du genre :</p><pre>
W: Couldn't stat source package list file: unstable/main Packages
(/sw/var/lib/apt/lists/_sw_fink_dists_unstable_main_binary-darwin-
powerpc_Packages) - stat (2 No such file or directory)
</pre><p>Vous devez exécuter :</p><pre>
sudo apt-get update
fink scanpackages
</pre><p>pour corriger définitivement le problème.</p><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p></div>
</a>
<a name="usage-fink.wrong-tree">
<div class="question"><p><b>Q5.24: Après mise à jour du système ou des Developer Tools, Fink ne reconnaît pas les changements apportés par ces mises à jour. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Lorsque vous changez la distribution de Fink (dont la distribution source et la distribution binaire sont des sous-ensembles), il faut le préciser à Fink. Pour cela, vous pouvez lancer le script qui est généralement exécuté lors de la première installation de Fink :</p><pre>/sw/lib/fink/postinstall.pl</pre><p>Fink pointera alors à l'endroit approprié.</p></div>
</a>
<a name="usage-fink.seg-fault">
<div class="question"><p><b>Q5.25: Des erreurs apparaissent lors de l'utilisation de <tt style="white-space: nowrap;">gzip</tt> ou de <tt style="white-space: nowrap;">dpkg-deb</tt> inclus dans le paquet <tt style="white-space: nowrap;">fileutils</tt>. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Les erreurs de la forme :</p><pre>gzip -dc /sw/src/dpkg-1.10.9.tar.gz | /sw/bin/tar -xf -
### execution of gzip failed, exit code 139</pre><p>ou :</p><pre>gzip -dc /sw/src/aquaterm-0.3.0a.tar.gz | /sw/bin/tar -xf -
gzip: stdout: Broken pipe
### execution of gzip failed, exit code 138</pre><p>ou encore :</p><pre>dpkg-deb -b root-base-files-1.9.0-1
/sw/fink/dists/unstable/main/binary-darwin-powerpc/base
### execution of dpkg-deb failed, exit code 10
Failed: can't create package base-files_1.9.0-1_darwin-powerpc.deb</pre><p>ou des fautes de segmentation lors de l'utilisation d'utilitaires inclus dans <tt style="white-space: nowrap;">fileutils</tt>, par exemple <tt style="white-space: nowrap;">ls</tt> ou <tt style="white-space: nowrap;">mv</tt>, sont généralement dues à une erreur de lien pré-encodé dans une bibliothèque. Vous pouvez la corriger avec la commande suivante :</p><pre>sudo /sw/var/lib/fink/prebound/update-package-prebinding.pl -f</pre></div>
</a>
<a name="usage-fink.pathsetup-keeps-running">
<div class="question"><p><b>Q5.26: À l'ouverture d'une fenêtre de Terminal, un message signale que "l'environnement a déjà été modifié pour Fink", puis le Terminal se déconnecte (message en anglais "Your environment seems to be set up for Fink already"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce qui se passe ici est que, d'une façon ou d'une autre, l'application Terminal.app a été chargée d'exécuter <tt style="white-space: nowrap;">/sw/bin/pathsetup.command</tt> à chaque connexion. Vous pouvez corriger cela en supprimant le fichier de préférences, <tt style="white-space: nowrap;">~/Library/Preferences/com.apple.Terminal.plist</tt>.</p><p>Si vous voulez conserver certaines préférences, vous pouvez modifier le fichier avec un éditeur de texte classique et supprimer la référence à <tt style="white-space: nowrap;">/sw/bin/pathsetup.command</tt>.</p></div>
</a>
<a name="usage-fink.ext-drive">
<div class="question"><p><b>Q5.27: Quand Fink n'est pas installé sur la partition principale du disque, il est impossible de mettre à jour le paquet fink à partir du source. Des erreurs concernant <q>chowname</q> apparaissent. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si le message d'erreur ressemble à celui-ci :</p><pre>This first test is designed to die, so please ignore the error
message on the next line.
# Looks like your test died before it could output anything.
./00compile............................ok
./Base/initialize......................ok
./Base/param...........................ok
./Base/param_boolean...................ok
./Command/cat..........................ok
./Command/chowname.....................#   
Failed test (./Command/chowname.t at line 27)
#     got: 'root'
#     expected: 'nobody'</pre><p>vous devez exécuter <b>Lire les informations</b> (Cmd-I quand l'icône de la partition ou du disque est selectionnée) sur le disque (ou la partition) sur lequel (laquelle) Fink est installé et décocher l'option "Ignorer les autorisations de ce volume".</p></div>
</a>
<a name="usage-fink.mirror-gnu">
<div class="question"><p><b>Q5.28: Fink refuse de mettre à jour les paquets. Il semble ne pas trouver le miroir 'gnu'. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si un message d'erreur se terminant par :</p><pre>Failed: No mirror site list file found for mirror 'gnu'.</pre><p>apparaît, il est plus que probable que vous deviez mettre à jour le paquet <tt style="white-space: nowrap;">fink-mirrors</tt> via, par exemple :</p><pre>fink install fink-mirrors</pre></div>
</a>
<a name="usage-fink.cant-move-fink">
<div class="question"><p><b>Q5.29: Il est impossible de mettre à jour Fink, car le répertoire /sw/fink ne peut être déplacé. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> L'erreur suivante :</p><pre>Failed: Can't move "/sw/fink" out of the way.</pre><p>est due, en général, à des permissions erronées dans un des répertoires temporaires créés durant l'exécution de <tt style="white-space: nowrap;">selfupdate</tt>. Supprimez-les via la commande :</p><pre>sudo rm -rf /sw/fink.tmp /sw/fink.old</pre></div>
</a>

<a name="usage-fink.fc-cache">
<div class="question"><p><b>Q5.30: Un message signalant qu'"aucune police n'est trouvée" apparaît (message en anglais : "No fonts found"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous voyez le message suivant (signalé uniquement sous Mac OS X 10.4 jusqu'à présent) :</p><pre>
No fonts found; this probably means that the fontconfig
library is not correctly configured. You may need to
edit the fonts.conf configuration file. More information
about fontconfig can be found in the fontconfig(3) manual
page and on http://fontconfig.org.
</pre><p>corrigez l'erreur en exécutant :</p><pre>sudo fc-cache</pre></div></a>
<a name="usage-fink.non-admin-installer">
<div class="question"><p><b>Q5.31: Il est impossible d'installer Fink à partir du paquet d'installation, le message "Ce volume ne gère pas les liens symboliques" apparaît. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce message signifie, généralement, que vous essayez de faire touner l'installeur Fink en tant qu'utilisateur sans privilèges administratifs. Assurez-vous soit de vous connecter dans l'écran de démarrage en tant qu'utilisateur ayant ces privilèges, soit de choisir dans le Finder (à l'aide du menu de changement rapide de session) un utilisateur ayant ces privilèges avant de lancer l'installeur de Fink.</p><p>Si vous avez des problèmes alors que vous utilisez un compte d'administrateur, il est probable que cela soit dû à des permissions incorrectes au niveau le plus haut de la hiérarchie des dossiers. Pour les réparer, utilisez l'Utilitaire de disque d'Apple, situé dans le sous-répertoire Utilitaires du répertoire Applications ; sélectionnez le disque dur en question, choisissez l'onglet <b>S.O.S.</b> et cliquez sur <b>Réparez les autorisations du disque</b>

If that doesn't work, then you may need to set your permissions manually via:</p><pre>
sudo chmod 1775 /	  
	</pre></div></a>
<a name="usage-fink.wrong-arch">
<div class="question"><p><b>Q5.32: Un message signalant une contradiction entre l'architecture du paquet et celle du système empêche de mettre à jour fink (message en anglais <q>package architecture (darwin-i386) does not match system (darwin-powerpc)</q>). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> L'architecture du paquet ne correspond pas à celle de votre système. Cette erreur se produit lorsque vous utilisez un paquet d'installation PowerPc sur une machine Intel. Vous devez alors supprimer votre installation de Fink :</p><pre>sudo rm -rf /sw</pre><p>Puis téléchargez l'image disque pour machines Intel à partir des <a href="http://www.finkproject.org/download/index.php">pages de téléchargement</a>.</p></div></a>

<h2><a name="comp-general">6 Problèmes généraux de compilation</a></h2>


<a name="comp-general.compiler">
<div class="question"><p><b>Q6.1: Un script configure signale qu'il ne peut trouver un "cc acceptable". De quoi s'agit-il ?</b></p></div>
<div class="answer"><p><b>A:</b> Lisez la documentation avant de poser des questions. Pour compiler des paquets à partir du source, vous devez installer les Developer Tools, qui, entre autres, contiennent le compilateur C nommé <tt style="white-space: nowrap;">cc</tt>.</p></div>
</a>
<a name="comp-general.cvs">
<div class="question"><p><b>Q6.2: Lors de l'exécution de "fink selfupdate-cvs", un message signale que "la commande cvs est introuvable" (message en anglais : "cvs: Command not found."). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Vous devez installer les Developer Tools.</p></div>
</a>
<a name="comp-general.missing-make">
<div class="question"><p><b>Q6.3: Un message d'erreur relatif à <tt style="white-space: nowrap;">make</tt> apparaît. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si ce message est du type :</p><pre>make: command not found</pre><p>ou :</p><pre>Can't exec "make": 
No such file or directory at /sw/lib/perl5/Fink/Services.pm line 190.</pre><p>cela signifie que vous devez installer les Developer Tools.</p><p>Si, par contre, le message est du type :</p><pre>make: illegal option -- C</pre><p>cela signifie que vous avez remplacé la version GNU de l'utilitaire <tt style="white-space: nowrap;">make</tt> installée par les Developer Tools par une version BSD de make. De nombreux paquets utilisent des fonctionnalités spéciales implémentées seulement dans GNU make. Vérifiez que <tt style="white-space: nowrap;">/usr/bin/make</tt> est un lien symbolique vers <tt style="white-space: nowrap;">gnumake</tt>, et non vers <tt style="white-space: nowrap;">bsdmake</tt>. De plus, assurez-vous que le répertoire <tt style="white-space: nowrap;">/usr/local/bin/</tt> ne contient aucune autre copie de <tt style="white-space: nowrap;">make</tt>.</p></div>
</a>
<a name="comp-general.head">
<div class="question"><p><b>Q6.4: Un étrange message d'erreur concernant la commande head apparaît. Que se passe-t-il ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous voyez apparaître ce message :</p><pre>Unknown option: 1 Usage: head [-options] &lt;url&gt;...</pre><p>suivi d'une liste d'options, cela signifie que la commande <tt style="white-space: nowrap;">head</tt> est défectueuse. Cela se produit lorsqu'on installe la bibliothèque Perl libwww sur un volume système HFS+. Elle tente de créer une nouvelle commande <tt style="white-space: nowrap;">/usr/bin/HEAD</tt>, qui écrase la commande <tt style="white-space: nowrap;">head</tt> existante, car le système de fichiers ne respecte pas la casse. <tt style="white-space: nowrap;">head</tt> est une commande standard utilisée dans de nombreux scripts shell et dans les Makefiles. Vous devez récupérer la commande <tt style="white-space: nowrap;">head</tt> originale si vous voulez utiliser Fink.</p><p>Le script bootstrap de la version source de fink fait, maintenant, cette vérification ; mais vous pouvez vous retrouver devant ce problème si vous utilisez la version binaire lors de la première installation de fink ou si vous installez libwww après avoir installé Fink.</p><p>Ce problème peut aussi venir de l'installation de <tt style="white-space: nowrap;">/sw/bin/HEAD</tt> (mais pas par un paquet de Fink). La solution est plus simple : renommez <tt style="white-space: nowrap;">/sw/bin/HEAD</tt>.</p></div>
</a>
<a name="comp-general.also_in">
<div class="question"><p><b>Q6.5: À l'installation d'un paquet, un message d'erreur signale qu'il y a tentative d'écrasement d'un fichier situé dans un autre paquet. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Cela arrive parfois avec les paquets multiples (c'est-à-dire ceux qui sont scindés en -dev, -shlibs, etc...) quand un fichier est déplacé d'un paquet à l'autre (par exemple de <tt style="white-space: nowrap;">toto</tt> à <tt style="white-space: nowrap;">toto-shlibs</tt>. Vous pouvez tenter d'écraser le fichier par celui présent dans le paquet (puisqu'ils sont identiques) via la commande :</p><pre>sudo dpkg -i --force-overwrite <b>nomdufichier</b>
</pre><p>où <b>nomdufichier</b> est le nom du fichier .deb correspondant au paquet que vous êtes en train d'installer.</p></div>
</a>

<a name="comp-general.mv-failed">
<div class="question"><p><b>Q6.6: Lors de la construction d'un paquet, un message indique que l'exécution de la commande mv a échoué (message en anglais : "execution of mv failed, exit code 1"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous avez installé StuffIt Pro, il se peut que vous ayez activé le mode "Archive Via Real Name". Recherchez un panneau de préférences Stuffit dans les préférences système et désactivez "ArchiveViaRealName" si cette option est activée. Elle contient une implémentation boguée de certains appels système importants qui entraîne un grand nombre d'erreurs étranges et passagères comme celle-ci.</p><p>Dans le cas contraire, une erreur sur la commande <tt style="white-space: nowrap;">mv</tt> signifie, en général, qu'une autre erreur s'est produite précédemment dans le processus de construction sans l'arrêter. Pour trouver le ou les fichiers concernés, recherchez dans les messages de sortie le fichier manquant. Par exemple, si vous obtenez ce message :</p><pre>mv /sw/src/root-toto-0.1.2-3/sw/lib/libtata*.dylib \
/sw/src/root-toto-shlibs-0.1.2-3/sw/lib/ 
mv: cannot stat `/sw/src/root-toto-0.1.2-3/sw/lib/libtata*.dylib': 
No such file or directory 
### execution of mv failed, exit code 1 
Failed: installing toto-0.1.2-3 failed</pre><p>vous devez rechercher <tt style="white-space: nowrap;">libtata</tt> parmi les messages de sortie précédents du processus de construction.</p></div>
</a>
<a name="comp-general.node-exists">
<div class="question"><p><b>Q6.7: Il est impossible d'installer ou de mettre à jour un paquet, un message indique qu'un "noeud" existe déjà (message en anglais : "node already exists"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ces messages d'erreurs sont similaires au message suivant :</p><pre>Failed: Internal error: node for system-xfree86 already exists</pre><p>Le moteur de dépendances ne sait plus où il en est, car il y a eu des changements dans certains fichiers info des paquets. Pour résoudre ce problème :</p><ul>
<li>
<p>Supprimez de force le paquet en cause, par exemple :</p>
<pre>sudo dpkg -r --force-all system-xfree86</pre>
<p>pour l'exemple donné ci-dessus.</p>
</li>
<li>
<p>Essayez de le réinstaller ou de le remettre à jour. À un moment, vous verrez apparaître un message concernant une "dépendance virtuelle" (en anglais "virtual dependency") sur le paquet que vous venez de supprimer. Sélectionnez-le et le paquet sera réinstallé pendant le processus de construction.</p>
</li>
</ul></div>
</a>
<a name="comp-general.usr-local-libs">
<div class="question"><p><b>Q6.8: Des problèmes de compilation de paquet Fink apparaissent quand des bibliothèques ou des headers sont installés dans le répertoire /usr/local. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> C'est une source fréquente de problèmes, car le script de configuration du paquet trouve les bibliothèques et les headers installés dans le répertoire <tt style="white-space: nowrap;">/usr/local</tt> avant ceux installés dans l'arborescence de Fink. Si vous rencontrez des problèmes lors de la construction d'un paquet, et que vous ne trouvez pas de solution à ce problème dans les QFP, regardez si vous avez des bibliothèques installées dans le répertoire <tt style="white-space: nowrap;">/usr/local/lib</tt> ou des headers installés dans le répertoire <tt style="white-space: nowrap;">/usr/local/include</tt>. Si c'est le cas, déplacez temporairement le répertoire <tt style="white-space: nowrap;">/usr/local</tt> via la commande :</p><pre>sudo mv /usr/local /usr/local.moved</pre><p>construisez le paquet, puis remettez en place le répertoire <tt style="white-space: nowrap;">/usr/local</tt> via la commande :</p><pre>sudo mv /usr/local.moved /usr/local</pre></div>
</a>
<a name="comp-general.toc-out-of-date">
<div class="question"><p><b>Q6.9: Lors de la construction d'un paquet, un message indique que la "table des matières" n'est pas à jour (message en anglais "table of contents out of date"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Le message de sortie vous indique (hélas ! en anglais) ce qu'il faut faire. En général, il est de la forme suivante :</p><pre>ld: table of contents for archive: 
/sw/lib/libintl.a is out of date; 
rerun ranlib(1) (can't load from it)</pre><p>Vous devez exécuter ranlib (en tant que super-utilisateur) sur la bibliothèque qui est la cause du problème. Par exemple, dans le cas ci-dessus, vous devez exécuter :</p><pre>sudo ranlib /sw/lib/libintl.a</pre></div>
</a>
<a name="comp-general.fc-atlas">
<div class="question"><p><b>Q6.10: Fink Commander se bloque quand on tente d'installer atlas. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ceci provient du fait qu'une des étapes de la compilation du paquet <tt style="white-space: nowrap;">atlas</tt> envoie une invite à l'utilisateur et que Fink Commander ne l'affiche pas. Vous devez utiliser <tt style="white-space: nowrap;">fink install atlas</tt> au lieu de passer par Fink Commander.</p></div>
</a>
<a name="comp-general.basic-headers">
<div class="question"><p><b>Q6.11: Un message indique qu'il est impossible de trouver les fichiers <tt style="white-space: nowrap;">stddef.h</tt>, ou <tt style="white-space: nowrap;">wchar.h</tt>, ou <tt style="white-space: nowrap;">stdlib.h</tt>, ou <tt style="white-space: nowrap;">crt1.o</tt>, ou bien encore que le <q>compilateur C ne peut créer de fichiers exécutables</q> ( message en anglais "C compiler cannot create executables"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ces problèmes sont dus, généralement, à l'absence de headers essentiels fournis par le paquet DevSDK des Outils de Développement (Developer Tools). Vérifiez que le répertoire <tt style="white-space: nowrap;">/Library/Receipts/DevSDK.pkg</tt> existe dans votre système. Si ce n'est pas le cas, relancez l'installeur des Outils de Développement et installez le paquet DevSDK en choisissant l'option Installation Personnalisée (Custom Install en anglais).</p><p>Le message d'erreur <q>impossible de créer des fichiers exécutables</q> peut aussi être généré lorsque la version des Outils de Développement installée provient d'une version antérieure du système d'exploitation.</p></div>
</a>
<a name="comp-general.multiple-dependencies">
<div class="question"><p><b>Q6.12: Il est impossible de mettre à jour, un message indique que Fink est "incapable de résoudre des conflits de versions entre dépendances" (message en anglais "unable to resolve version conflict on multiple dependencies"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Pour résoudre ce problème, essayez de ne mettre à jour qu'un seul paquet, puis lancez de nouveau "fink update-all". Si le message réapparaît, répétez le processus.</p></div>
</a>
<a name="comp-general.dpkg-parse-error">
<div class="question"><p><b>Q6.13: Il est impossible d'installer quoi que ce soit, un message indique que "dpkg est incapable d'analyser la structure du fichier /sw/var/lib/dpkg/status" (message en anglais : "dpkg: parse error, in file `/sw/var/lib/dpkg/status'"). De quoi s'agit-il ?</b></p></div>
<div class="answer"><p><b>A:</b> Cela signifie que votre base de données dpkg a été corrompue, en général à la suite d'un plantage ou d'une autre erreur irrécupérable. Vous pouvez résoudre le problème en copiant la version précédente de la base de données via la commande :</p><pre>sudo cp /sw/var/lib/dpkg/status-old /sw/var/lib/dpkg/status</pre><p>Il se peut que vous deviez réinstaller les derniers paquets installés juste avant que le problème n'apparaisse.</p></div>
</a>
<a name="comp-general.freetype-problems">
<div class="question"><p><b>Q6.14: Des messages d'erreurs concernant freetype apparaissent. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Il y a plusieurs types d'erreurs concernant freetype. Si le message d'erreur ressemble au suivant :</p><pre>/usr/bin/ld: can't locate file for: -lfreetype</pre><p>Vérifiez que vous n'avez pas un exécutable <tt style="white-space: nowrap;">freetype-config</tt> dans un endroit insolite via la commande :</p><pre>where freetype-config</pre><p>si vous utilisez <tt style="white-space: nowrap;">tcsh</tt>, ou :</p><pre>type -a freetype-config</pre><p>si vous utilisez <tt style="white-space: nowrap;">bash</tt>. La framework Mono installe <tt style="white-space: nowrap;">/usr/bin/freetype-config</tt> en tant que lien symbolique vers un fichier de cette framework.</p><p>Si le message d'erreur ressemble au suivant :</p><pre>/sw/include/pango-1.0/pango/pangoft2.h:52: 
error: parse error before '*' token 
/sw/include/pango-1.0/pango/pangoft2.h:57:
error: parse error before '*' token
/sw/include/pango-1.0/pango/pangoft2.h:61: 
error: parse error before '*' token 
/sw/include/pango-1.0/pango/pangoft2.h:86: 
error: parse error before "pango_ft2_font_get_face"
/sw/include/pango-1.0/pango/pangoft2.h:86: 
warning: data definition has no type or storage class 
make[2]: *** [rsvg-gz.lo] Error 1
make[1]: *** [all-recursive] Error 1 
make: *** [all-recursive-am] Error 2 
### execution of make failed, exit code 2 
Failed: compiling librsvg2-2.4.0-3 failed</pre><p>ou à celui-ci :</p><pre>In file included from vteft2.c:32: 
vteglyph.h:64: error:
parse error before "FT_Library" 
vteglyph.h:64: warning: 
no semicolon at end of struct or union vteft2.c: 
In function `_vte_ft2_get_text_width': 
vteft2.c:236: error: 
dereferencing pointer to incomplete type 
vteft2.c: In function `_vte_ft2_get_text_height':
vteft2.c:244: error: 
dereferencing pointer to incomplete type
vteft2.c: In function `_vte_ft2_get_text_ascent': 
vteft2.c:252: error:
dereferencing pointer to incomplete type 
vteft2.c: In function `_vte_ft2_draw_text': 
vteft2.c:294: error: 
dereferencing pointer to incomplete type 
vteft2.c:295: error: 
dereferencing pointer to incomplete type
make[2]: *** [vteft2.lo] Error 1 
make[1]: *** [all-recursive] Error 1 
make: *** [all] Error 2 
### execution of make failed, exit code 2
Failed: compiling vte-0.11.10-3 failed</pre><p>ou encore à celui-là :</p><pre>checking for freetype-config.../usr/X11R6/bin/freetype-config 
checking For sufficiently new FreeType (at least 2.0.1)... no 
configure: error: pangoxft 
Pango backend found but did not find freetype libraries 
make: *** No targets specified and no makefile found. Stop. 
### execution of LD_TWOLEVEL_NAMESPACE=1 failed, exit code 2 
Failed: compiling gtk+2-2.2.4-2 failed</pre><p>le problème est dû à une confusion entre les headers des paquets <tt style="white-space: nowrap;">freetype</tt> ou de <tt style="white-space: nowrap;">freetype-hinting</tt> et les headers <tt style="white-space: nowrap;">freetype2</tt> qui sont inclus dans X11 ou dans XFree86. La commande :</p><pre>fink remove freetype freetype-hinting</pre><p>supprime la variante que vous avez installée. À contrario, si le message d'erreur est similaire à celui-ci :</p><pre>ld: Undefined symbols: _FT_Access_Frame</pre><p>cela est dû à la présence d'un fichier résultant d'une installation précédente de X11. Réinstallez X11 SDK.</p></div>
</a>
<a name="comp-general.dlfcn-from-oo">
<div class="question"><p><b>Q6.15: Des messages d'erreur concernant `Dl_info' apparaissent. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous avez des messages d'erreur similaire à celui-ci :</p><pre>unix_dl.c: In function `rep_open_dl_library':
unix_dl.c:328: warning: assignment discards qualifiers from \
pointer target type 
unix_dl.c: In function `rep_find_c_symbol': 
unix_dl.c:466: error: `Dl_info' undeclared (first use in this \
function)
unix_dl.c:466: error: (Each undeclared identifier is reported \
only once 
unix_dl.c:466: error: for each function it appears in.)
unix_dl.c:466: error: parse error before "info" 
unix_dl.c:467: error: `info' undeclared (first use in this function) 
make[1]: *** [unix_dl.lo] Error 1</pre><p>vous avez certainement un header <tt style="white-space: nowrap;">/usr/local/include/dlfcn.h</tt>, incompatible avec Panther. Déplacez-le.</p><p><b>Note</b> : les barres obliques inversées ont été rajoutées uniquement pour des raisons de formatage.</p><p>Ce header est, en général, installé par Open Office, et vous devez le remplacer, de même que la bibliothèque <tt style="white-space: nowrap;">/usr/local/lib/libdl.dylib</tt>, par des liens symboliques vers les fichiers inclus dans Panther :</p><pre>sudo ln -s /usr/include/dlfcn.h /usr/local/include/dlfcn.h
sudo ln -s /usr/lib/libdl.dylib /usr/local/lib/libdl.dylib</pre></div>
</a>
<a name="comp-general.gcc2">
<div class="question"><p><b>Q6.16: Fink signale que les paquets <tt style="white-space: nowrap;">gcc2</tt> ou <tt style="white-space: nowrap;">gcc3.1</tt> n'existent pas, mais il ne semble pas possible de les installer. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> <tt style="white-space: nowrap;">gcc2</tt> et <tt style="white-space: nowrap;">gcc3.1</tt> sont des paquets virtuels qui indiquent la présence de gcc-2.95 ou de gcc3.1 dans votre système. Installez les paquets gcc2.95 ou gcc3.1 à partir de XCode Tools (les versions précédentes du système opératoire inclut gcc-2.95 dans l'installation standard des Developer Tools).</p><p><b>Note : </b>L'installation de gcc2.95 et / ou de gcc3.1 n'interfère pas avec le compilateur gcc3.3. Ils peuvent coexister.</p></div>
</a>
<a name="comp-general.system-java">
<div class="question"><p><b>Q6.17: Fink signale qu'il ne peut résoudre la dépendance "system-java14-dev", mais il n'existe pas de paquet system-java14-dev (message en anglais <tt style="white-space: nowrap;">Failed: Can't resolve dependency "system-java14-dev"</tt>). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce paquet est un paquet virtuel. Ce type d'erreur apparaît quand Java est mis à jour via Mise à jour de Logiciels : les headers sont supprimés, ce qui empêche la création du paquet -dev.</p><p>Vous devez télécharger le paquet approprié des <tt style="white-space: nowrap;">Java Developer Tools</tt> à partir du site d'<a href="http://connect.apple.com">Apple</a>. Dans le cas ci-dessus, il s'agit du paquet <tt style="white-space: nowrap;">Java 1.4.2 Developer Tools</tt>.</p></div>
</a>
<a name="comp-general.dpkg-split">
<div class="question"><p><b>Q6.18: Lors de l'installation d'un paquet, un message d'erreur apparaît signalant que dpkg n'arrive à exécuter dpkg-split pour vérifier si le paquet fait partie d'un paquet multiple (message en anglais : <q>dpkg (subprocess): failed to exec dpkg-split to see if it's part of a multiparter: No such file or directory</q>). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce problème se résout, en général, par la définition correcte de votre environnement, cf. <a href="#usage-fink.fink-not-found">cette partie des QFP</a>.</p></div>
</a>
<a name="comp-general.xml-parser">
<div class="question"><p><b>Q6.19: Un message d'erreur signalant que le module Perl XML est requis par intltool apparaît (message en anglais: <q>configure: error: XML::Parser perl module is required for intltool</q>). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous utilisez l'arbre instable, you devez installer une version de intltool supérieure ou égale à la version 0.34.1.</p><p>Sinon, vous devez vérifier que vous avez la variante du paquet qui correspond à la version de Perl installée dans votre système. Par exemple, sous Panther, vous devez avoir <tt style="white-space: nowrap;">xml-parser-pm581</tt> et non pas <tt style="white-space: nowrap;">xml-parser-pm560</tt> (il se peut que vous ayez le paquet fantôme <tt style="white-space: nowrap;">xml-parser-pm</tt>), car, dans votre système est installé <tt style="white-space: nowrap;">Perl-5.8.1</tt> et non pas <tt style="white-space: nowrap;">Perl-5.6.0</tt>. Sous Jaguar, vous devez avoir la variante <tt style="white-space: nowrap;">pm560</tt> si vous utilisez la version système de Perl; si vous avez installé <tt style="white-space: nowrap;">Perl 5.8.0</tt>, vous devez avoir la variante <tt style="white-space: nowrap;">pm580</tt>.</p></div>
</a>
<a name="comp-general.master-problems">
<div class="question"><p><b>Q6.20: Lors du téléchargement d'un paquet, Fink tente de le faire à partir d'un site dont le nom contient <q>distfiles</q> et ne trouve pas le fichier. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Fink tente d'utiliser l'un de ses sites <q>Maîtres</q>. Ils servent à garantir que les sources des paquets de Fink sont disponibles même lorsque le site original a changé d'adresse. Cette erreur apparaît lorsqu'une nouvelle version d'un paquet est publiée, mais que les miroirs maîtres n'ont pas encore eu le temps de la prendre en compte.</p><p>Pour pallier cela, exécutez <tt style="white-space: nowrap;">fink configure</tt> et changez l'ordre de recherche de telle sorte que les miroirs maîtres soient utilisés en dernier.</p></div>
</a>
<a name="comp-general.compile-options">
<div class="question"><p><b>Q6.21: Comment utiliser des options variables lors de la compilation d'un paquet ?</b></p></div>
<div class="answer"><p><b>A:</b> La première chose à faire est de contacter le mainteneur du paquet pour lui demander d'introduire une variante dans le paquet. Cela peut être relativement facile à faire. Si le mainteneur ne vous répond pas ou si vous ne voyez pas apparaître de nouveaux paquets correspondant à votre demande, ou que vous vouliez essayer de faire le changement vous-même, étudiez le <a href="http://www.finkproject.org/doc/quick-start-pkg/index.php">Tutoriel d'empaquetage</a> et le <a href="http://www.finkproject.org/doc/packaging/index.php">Guide de construction de paquets</a>.</p><p><b>Note :</b> Fink est volontairement initialisé de telle façon que tous les paquets binaires officiels soient identiques quelle que soit la machine sur laquelle ils sont construits. C'est ainsi qu'il n'y aura jamais d'optimisation pour le G5 dans un paquet officiel. Si vous voulez ce type d'option, il vous faudra le faire vous-même.</p></div>
</a>

    <a name="comp-general.alternates">
      <div class="question"><p><b>Q6.22: Whenever I try to build from source, Fink keeps waffling between alternate versions of the same library.</b></p></div>
      <div class="answer"><p><b>A:</b> Often, in a complicated build tree, you may find that some of the packages
	depend on a particular version of a library, and other depend on a different one
	(e.g. <tt style="white-space: nowrap;">db47</tt> vs. <tt style="white-space: nowrap;">db44</tt>).  Consequently, Fink may try to
	switch to whichever one isn't currently installed in order to satisfy the
	build dependency for the current package that you're trying to update.</p><p>Unfortunately, due to limitations in the build-dependency engine, you
      may wind up with the dreaded</p><pre>Fink::SysState: Could not resolve inconsistent dependencies</pre><p>message when trying a sufficiently complicated <tt style="white-space: nowrap;">update-all</tt>. This generally gives you a
      command to try to resolve the issue:</p><pre>
fink scanpackages
sudo apt-get update
sudo apt-get install foo=1.23-4	
      </pre><p>but this may not work for sufficiently complicated updates.  You might need
      to update packages one-by-one, at least for a while.
      </p></div>
    </a>

<a name="comp-general.python-mods">
<div class="question"><p><b>Q6.23: Un message d'erreur comportant <tt style="white-space: nowrap;">MACOSX_DEPLOYMENT_TARGET </tt> apparaît lors de la compilation d'un module Python. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si le message ressemble au suivant :</p><pre>running build
running build_ext
Traceback (most recent call last):
  File "setup_socket_ssl.py", line 21, in ?
    depends = ['socketmodule.h'] )
  File "/sw/src/root-python24-2.4.1-1/sw/lib/python2.4/distutils/core.py", line 166, in setup
SystemExit: error: $MACOSX_DEPLOYMENT_TARGET mismatch: now "10.4" but "10.3" during configure
### execution of /sw/bin/python2.4 failed, exit code 1</pre><p>le problème apparaît parce que les paquets <tt style="white-space: nowrap;">python2*</tt> notent la valeur en cours de <tt style="white-space: nowrap;">MACOSX_DEPLOYMENT_TARGET</tt> dans un fichier de configuration lors de leur compilation. Les outils de compilation de python utilisent ensuite cette valeur lorsqu'ils compilent des modules. Par exemple, si avez sous Mac OS X 10.4 un paquet <tt style="white-space: nowrap;">python24</tt> qui a été compilé sous Mac OS X 10.3, soit par mise à jour 10.3 =&gt; 10.4, ou via la distribution binaire <b>10.4-transitionelle</b>, et qui n'a pas été recompilé, il y aura divergence entre la valeur de <tt style="white-space: nowrap;">MACOSX_DEPLOYMENT_TARGET</tt> stockée dans le fichier de configuration de python (10.3) et sa valeur réelle (10.4).</p><p>La solution de ce problème consiste à recompiler le paquet <tt style="white-space: nowrap;">python</tt> en cause ; dans notre exemple, <tt style="white-space: nowrap;">fink rebuild python24</tt>.</p><p>Si vous obtenez le même genre d'erreur au runtime, recompilez le module après avoir recompilé le paquet <tt style="white-space: nowrap;">python2*</tt> concerné.</p></div>
</a>
<a name="comp-general.libtool-unrecognized-dynamic">
<div class="question"><p><b>Q6.24: Un message d'erreur signalant que <tt style="white-space: nowrap;">libtool</tt>  ne reconnait pas l'option '-dynamic' apparaît (message en anglais <q>libtool: unrecognized option `-dynamic'</q>). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Le message :</p><pre> libtool: unrecognized option `-dynamic'</pre><p>signifie que vous avez remplacé la commande <tt style="white-space: nowrap;">/usr/bin/libtool</tt> d'Apple par la commande GNU <tt style="white-space: nowrap;">libtool</tt>. Malheureusement les deux <tt style="white-space: nowrap;">libtools</tt> <b>ne font pas</b> la même chose.</p><p>La seule manière de résoudre le problème est d'installer une version de <tt style="white-space: nowrap;">libtool</tt> d'Apple en provenance d'ailleurs. Il fait partie du paquet <tt style="white-space: nowrap;">DeveloperTools.pkg</tt> de XCode. Vous pouvez réinstaller le paquet si vous supprimez d'abord son reçu situé dans le répertoire <tt style="white-space: nowrap;">/Library/Receipts</tt> (glissez-le dans la corbeille sur les systèmes Mac OS X 10.4 et ultérieurs ou exécutez la commande <tt style="white-space: nowrap;">sudo rm -rf /Library/Receipts/DeveloperTools.pkg</tt> pour le système Mac OS X 10.3).</p></div>
</a>
<h2><a name="comp-packages">7 Problèmes de compilation spécifiques à certains paquets</a></h2>


<a name="comp-packages.libgtop">
<div class="question"><p><b>Q7.1: La compilation d'un paquet échoue avec des messages d'erreur concernant <tt style="white-space: nowrap;">sed</tt>. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ceci peut se produire si votre script de connexion (par exemple <tt style="white-space: nowrap;">~/.cshrc</tt>) lance une commande qui écrit dans le terminal. Par exemple : "<tt style="white-space: nowrap;">echo Hello</tt>" ou <tt style="white-space: nowrap;">xttitle</tt>. Pour résoudre le problème, la solution la plus simple est de mettre les lignes qui causent problème en commentaires.</p><p>Si vous voulez conserver l'écho, vous pouvez le faire ainsi :</p><pre>if ( $?prompt) then 
echo Hello 
endif</pre></div>
</a>
<a name="comp-packages.cant-install-xfree">
<div class="question"><p><b>Q7.2: Lors d'une tentative de passage aux paquets XFree86 de Fink, il est impossible d'installer le paquet <tt style="white-space: nowrap;">xfree86-base</tt> ou le paquet <tt style="white-space: nowrap;">xfree86</tt>, car ils entrent en conflit avec le paquet <tt style="white-space: nowrap;">system-xfree86</tt>. Que se passe-t-il ?</b></p></div>
<div class="answer"><p><b>A:</b> Toutes les variantes de X11, doivent, malheureusement, être installées au même endroit, à savoir dans le répertoire /usr/X11R6. C'est pourquoi, les paquets de Fink <tt style="white-space: nowrap;">xfree86-base</tt> et <tt style="white-space: nowrap;">xfree86-rootless</tt> s'installent également à cet endroit. Néanmoins, comme Fink ne supprime pas les fichiers qui ne figurent pas dans sa base de données, il ne remplace pas automatiquement une installation de X11 faite hors de Fink.</p><p></p><p>Voici comment procéder pour résoudre le problème :</p><p></p><p> <b>Note : les utilisateurs de Mac OS X 10.2.x ayant une version de Fink à jour (c'est-à-dire &gt;=0.16.2) et les utilisateurs de Mac OS X 10.3.x doivent sauter l'étape 1 ci-dessous (de toute façon, elle ne fonctionne pas pour eux).</b>
</p><p>Étape 1. Supprimez le paquet <tt style="white-space: nowrap;">system-xfree86</tt>. Si vous n'avez aucun paquet qui dépend de X11, c'est tout simple. Toutefois, il est fréquent que de nombreux paquets dépendant de X11 soient installés. Dans ce cas, au lieu de tous les désinstaller, vous pouvez utiliser la commande :</p><pre>sudo dpkg --remove --force-depends system-xfree86</pre><p>pour supprimer le paquet system-xfree86, ce qui laisse tout le reste en place. Si le paquet <tt style="white-space: nowrap;">system-xfree86</tt> n'est pas installé, passez à l'étape 3.</p><p>Étape 2. Supprimez l'application XFree86 via la commande  :</p><pre>sudo rm -rf /Applications/XDarwin.app /usr/X11R6 /etc/X11</pre><p>Si vous aviez installé l'application X11 d'Apple auparavant, supprimez-la également.</p><p>Étape 3. Pour installer l'application XFree86-4.2.1, installez les paquets Fink <tt style="white-space: nowrap;">xfree86-base</tt> et <tt style="white-space: nowrap;">xfree86-rootless</tt> comme vous le faites d'habitude : via la commande "<tt style="white-space: nowrap;">fink install</tt>" pour les utilisateurs de sources, ou bien les commandes "<tt style="white-space: nowrap;">apt-get install</tt>" ou <tt style="white-space: nowrap;">dselect</tt> pour les utilisateurs de binaires.</p><p>- ou -</p><p>Étape 3a. Pour installer l'application XFree86-4.3.x ou une version postérieure, installez le paquet Fink <tt style="white-space: nowrap;">xfree86</tt> via la commande "fink install xfree86". La version la plus récente (XFree86-4.4.x à la date du 25 mai 2004) n'est pas encore dans la distribution binaire et n'est disponible que dans l'arborescence instable. Voir <a href="http://www.finkproject.org/faq/usage-fink.php#unstable">comment installer un paquet instable</a>.</p></div>
</a>
<a name="comp-packages.change-thread-nothread">
<div class="question"><p><b>Q7.3: Comment passer de la version sans processus légers à la version avec processus légers (ou vice-versa) ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous avez installé la version Fink de XFree86 et que vous vouliez passer de la version sans processus légers de Fink à celle avec processus légers de Fink, vous devez supprimer l'ancienne version manuellement. Vous pouvez le faire via la ligne de commande comme ceci :</p><pre>sudo dpkg -r --force-depends xfree86-base 
sudo dpkg -r --force-depends xfree86-shlibs 
sudo dpkg -r --force-depends xfree86-rootless 
sudo dpkg -r --force-depends xfree86-rootless-shlibs</pre><p>ou pour supprimer la version avec processus légers :</p><pre>sudo dpkg -r --force-depends xfree86-base-threaded 
sudo dpkg -r --force-depends xfree86-shlibs-threaded 
sudo dpkg -r --force-depends xfree86-rootless-threaded 
sudo dpkg -r --force-depends xfree86-rootless-threaded-shlibs</pre><p>FinkCommander peut aussi supprimer des paquets. Dans la fenêtre "source", sélectionnez un paquet et utilisez "<tt style="white-space: nowrap;">Force Remove</tt>" dans le menu <tt style="white-space: nowrap;">Source</tt>.</p><p>Si vous avez installé le paquet system-xfree86, voir la précédente question pour savoir comment le supprimer.</p><p>Installez la version désirée de xfree86 :</p><p><tt style="white-space: nowrap;">xfree86-base</tt> et <tt style="white-space: nowrap;">xfree86-rootless</tt></p><p>ou</p><p><tt style="white-space: nowrap;">xfree86-base-threaded</tt> et <tt style="white-space: nowrap;">xfree86-rootless-threaded</tt></p><p>via les commandes habituelles : "<tt style="white-space: nowrap;">fink install</tt>" pour les utilisateurs de sources, "<tt style="white-space: nowrap;">apt-get install</tt>" ou <tt style="white-space: nowrap;">dselect</tt> pour les utilisateurs de binaires.</p></div>
</a>
<a name="comp-packages.cctools">
<div class="question"><p><b>Q7.4: Lors de l'installation de KDE, un message signale que la dépendance au paquet "cctools (&gt;= 446-1)" ne peut être résolue (message en anglais : 'Can't resolve dependency "cctools (&gt;= 446-1)"'"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ce message quelque peu abscons signifie que vous devez installer les Developer Tools de décembre 2002.</p></div>
</a>
<a name="comp-packages.libiconv-gettext">
<div class="question"><p><b>Q7.5: Il est impossible de mettre à jour <tt style="white-space: nowrap;">libiconv</tt>. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous voyez apparaître des messages d'erreur semblables au suivant :</p><pre>libtool: link: cannot find the library `/sw/lib/libiconv.la'</pre><p>vous pouvez résoudre le problème en exécutant la commande :</p><pre>fink remove gettext-dev
fink install libiconv</pre></div>
</a>
 <a name="comp-packages.cplusplus-filt">
<div class="question"><p><b>Q7.6: Il est impossible d'installer un paquet car le fichier <tt style="white-space: nowrap;">c++filt</tt> n'existe pas. Où le récupérer ?</b></p></div>
<div class="answer"><p><b>A:</b> Si vous avez des erreurs similaires à la suivante :</p><pre>xgcc: installation problem, cannot exec `c++filt': No such file or directory</pre><p>après être passé sous Tiger, vous devez suivre les étapes suivantes :</p><ul>
<li>Réinstallez <tt style="white-space: nowrap;">BSD.pkg</tt> à partir du DVD d'installation du système Tiger.</li>
</ul><ul>
<li>10.4: Désinstallez l'ancienne version des Outils de développements (Developer Tools) en exécutant la commande :
<pre>/Developer/Tools/uninstall-devtools.pl</pre> 
dans une fenêtre de terminal. Puis installez XCode (version 2.4.1 ou supérieure).</li>
<li>10.5: Désinstallez l'ancienne version des Outils de développements (Developer Tools) en exécutant la commande :
<pre>/Developer/Tools/uninstall-devtools.pl</pre> 
dans une fenêtre de terminal. Puis installez XCode (version 3.0 ou supérieure).</li>
</ul><p>Si le fichier <tt style="white-space: nowrap;">/usr/bin/c++filt</tt> n'apparaît pas, recommencez les deux étapes précédentes jusqu'à ce qu'il apparaisse.</p></div>
</a>
<a name="comp-packages.gettext-tools">
<div class="question"><p><b>Q7.7: Fink refuse de mettre à jour le paquet <tt style="white-space: nowrap;">gettext</tt>, car les dépendances sont incompatibles entre elles. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Exécutez d'abord la commande <tt style="white-space: nowrap;">fink selfupdate</tt> pour vous assurer que vous avez bien les dernières versions des paquets. Puis exécutez la commande <tt style="white-space: nowrap;">fink update gettext-tools</tt>. Une ancienne version de <tt style="white-space: nowrap;">gettext-tools</tt> peut empêcher la mise à jour de <tt style="white-space: nowrap;">gettext</tt>.</p></div>
</a>
  <a name="comp-packages.Leopard-libXrandr">
    <div class="question"><p><b>Q7.8: I can't install <b>gtk+2</b> on OS 10.5</b></p></div>
    <div class="answer"><p><b>A:</b> Typically this involves missing libraries, such as:   <tt style="white-space: nowrap;">/usr/X11/lib/libXrandr.2.0.0.dylib</tt> or 
    <tt style="white-space: nowrap;">/usr/X11/lib/libXdamage.1.1.0.dylib</tt> (or other versions of libraries in
    <tt style="white-space: nowrap;">/usr/X11/lib/</tt>).</p><p>The current wisdom on the best
    fix for such an issue is to install Xcode 3.1.3.</p></div>
  </a>
<a name="comp-packages.all-others">
<div class="question"><p><b>Q7.9: Des problèmes apparaissent avec un paquet qui n'est pas mentionné ici. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Comme les problèmes sur les paquets ont tendance à être transitoires, nous avons décidé de les mettre sur le wiki de Fink. Voyez la page <a href="http://wiki.finkproject.org/index.php/Fink:Package_issues">Package issues</a>.</p></div>
</a>
<h2><a name="usage-general">8 Problèmes généraux d'utilisation de paquets</a></h2>


<a name="usage-general.xlocale">
<div class="question"><p><b>Q8.1: De nombreux messages signalant que la locale n'est pas gérée par la bibliothèque C apparaissent (message en anglais : "locale not supported by C library"). Est-ce un problème ?</b></p></div>
<div class="answer"><p><b>A:</b> Non, cela signifie juste que le programme va utiliser les messages, les formats de date, etc... anglais. Le programme fonctionnera normalement par ailleurs. Le document Utilisation de X11 donne de <a href="http://www.finkproject.org/doc/x11/trouble.php#locale">plus amples informations</a> à ce sujet.</p></div>
</a>
<a name="usage-general.passwd">
<div class="question"><p><b>Q8.2: Un certain nombre d'étranges utilisateurs apparaissent tout d'un coup sur mon système. Ils portent, entre autres, les noms suivants : "mysql", "pgsql" et "games". D'où proviennent-ils ?</b></p></div>
<div class="answer"><p><b>A:</b> Vous avez utilisé Fink pour installer un paquet dépendant du paquet passwd. Ce paquet installe un certain nombre d'utilisateurs supplémentaires pour des raisons de sécurité - sur les systèmes Unix, les fichiers et les processus appartiennent aux "propriétaires", ce qui permet aux administrateurs système de moduler les autorisations et la sécurité du système. Les programmes Apache et MySQL, par exemple, doivent avoir un "propriétaire", et il n'est pas raisonnable que le super-utilisateur soit le propriétaire de ces démons. Imaginez ce qu'il arriverait si Apache était compromis et avait tout d'un coup l'autorisation d'écrire dans tous les fichiers du système. Le paquet passwd se charge donc de définir ces utilisateurs supplémentaires pour les paquets Fink qui en ont besoin.</p><p>Il peut être inquiétant de découvrir soudain un certain nombre d'utilisateurs inconnus dans votre panneau de "Préférences système : Utilisateurs" (sur Mac OS X 10.2.x) ou "Préférences système : Comptes" (sur Mac OS X 10.3.x), mais réfléchissez bien avant de les supprimer :</p><ul>
<li>Tout d'abord, vous avez manifestement choisi d'installer un paquet qui nécessite leur utilisation ; donc leur suppression n'a pas grand sens dans ce contexte.</li>
<li>En fait, il y a déjà un certain nombre d'utilisateurs supplémentaires installés par Mac OS X, dont vous ignorez peut-être l'existence : www, daemon, nobody entre autres. La présence de ces utilisateurs supplémentaires correspond à une convention standard d'Unix nécessaire à l'utilisation de certains services ; le paquet passwd ne fait qu'en ajouter quelques autres qu'Apple ne fournit pas. Vous pouvez voir les utilisateurs installés par Apple via le Gestionnaire NetInfo ou en lançant la commande <tt style="white-space: nowrap;">niutil -list . /users</tt>
</li>
<li>Si vous décidez de supprimer ces utilisateurs, faites très attention à la façon dont vous procéderez. Si vous utilisez le panneau "Préférences système : Utilisateurs" (sur Mac OS X 10.2.x) ou "Préférences système : Comptes" (sur Mac OS X 10.3.x), tous les fichiers possédés par ces utilisateurs seront assignés à un utilisateur administrateur pris au hasard. Certaines personnes ont rapporté que cela pouvait causer des dégâts dans les autorisations du compte administrateur. C'est un bogue des Préférences système, il a été soumis à Apple. Un moyen plus sûr de supprimer ces utilisateurs est de passer par Gestionnaire NetInfo ou d'utiliser l'outil en ligne de commande <tt style="white-space: nowrap;">niutil</tt> dans une fenêtre de Terminal. Lisez la page de manuel de <tt style="white-space: nowrap;">niutil</tt> pour de plus amples informations au sujet de NetInfo.</li>
</ul><p>Fink vous <b>demande</b> la permission d'installer ces utilisateurs supplémentaires sur votre système lors de l'installation du paquet passwd, vous ne devriez donc pas être trop surpris de les découvrir après coup.</p></div>
</a>
<a name="usage-general.compile-myself">
<div class="question"><p><b>Q8.3: Comment compiler soi-même en utilisant des logiciels installés par Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> When compiling something yourself outside of Fink, the compiler and
        linker need to be told where to find the Fink-installed libraries and
		headers.  It is also necessary to tell the compiler to use the
		appropriate target architecture.  For a package that uses standard
		configure/make process, you need to set some environment variables:</p><p>-bash-</p><pre>export CFLAGS=-I/sw/include 
export LDFLAGS=-L/sw/lib 
export CXXFLAGS=$CFLAGS 
export CPPFLAGS=$CXXFLAGS 
export ACLOCAL_FLAGS="-I /sw/share/aclocal"
export PKG_CONFIG_PATH="/sw/lib/pkgconfig"
export PATH=/sw/var/lib/fink/path-prefix-10.6:$PATH
export MACOSX_DEPLOYMENT_TARGET=10.5</pre><p>-tcsh-</p><pre>setenv CFLAGS -I/sw/include 
setenv LDFLAGS -L/sw/lib 
setenv CXXFLAGS $CFLAGS 
setenv CPPFLAGS $CXXFLAGS 
setenv ACLOCAL_FLAGS "-I /sw/share/aclocal"
setenv PKG_CONFIG_PATH "/sw/lib/pkgconfig"
setenv PATH /sw/var/lib/fink/path-prefix-10.6:$PATH
setenv MACOSX_DEPLOYMENT_TARGET 10.5</pre><p>(assuming that the build system is running OS 10.5 or later)</p><p>Il est souvent plus simple d'ajouter ces variables à vos fichiers de démarrage (par exemple, <tt style="white-space: nowrap;">.cshrc</tt> ou <tt style="white-space: nowrap;">.profile</tt>), de façon à ce qu'elles soient automatiquement définies. Si un paquet n'utilise pas ces variables, vous devrez peut-être ajouter aux lignes de compilation "-I/sw/include" pour les headers et "-L/sw/lib" pour les bibliothèques. Certains paquets peuvent utiliser des variables non standards, telle EXTRA_CFLAGS, des options de configuration, telle --with-qt-dir=toto. La commande "./configure --help" vous donne, en général, la liste de ces options de configuration supplémentaires.</p><p>De plus, vous devrez peut-être installer les headers de développement des paquets bibliothèques que vous utilisez, s'ils ne sont pas déjà installés : par exemple <b>toto-1.0-1-dev</b>), si vous utilisez la bibliothèque toto-1.0-1.</p></div>
</a>
<a name="usage-general.apple-x11-applications-menu">
<div class="question"><p><b>Q8.4: Il est impossible d'exécuter une application installée par Fink en utilisant le menu Applications dans X11 d'Apple. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> L'application X11 d'Apple ne garde pas trace des variables d'environnement de Fink, ce qui signifie que son menu Applications n'a pas dans la variable PATH le chemin permettant de trouver les applications Fink. Vous pouvez résoudre ce problème en ajoutant devant le nom d'une application installée via Fink la commande suivante :</p><pre>source /sw/bin/init.sh ;</pre><p>Par exemple, si vous voulez lancer GIMP installé via Fink, choisissez "Personnalisez le menu" dans le menu Applications et saisissez :</p><pre>source /sw/bin/init.sh ; gimp</pre><p>dans le champ "Commande" en regard du nom de menu GIMP.</p><p>Vous pouvez aussi modifier le fichier .xinitrc, situé dans votre répertoire utilisateur, et y ajoutez la commande suivante :</p><pre>source /sw/bin/init.sh</pre><p>après la première ligne.</p></div>
</a>
<a name="usage-general.x-options">
<div class="question"><p><b>Q8.5: Il y a de nombreuses options pour X11 : X11 d'Apple, XFree86, etc... Laquelle installer ?</b></p></div>
<div class="answer"><p><b>A:</b> Toutes ces options sont des variantes de XFree86 - toutes basées sur le code de XFree86, mais il y a de légères différences entre elles. Les options proposées sont différentes sous Panther et sous Jaguar.</p><p>Sous Panther, vous avez le choix entre :</p><ul>
<li><p>X11 d'Apple (que vous trouverez sur le disque numéro 3). N'oubliez pas d'installer le paquet  X11 SDK (situé sur le disque XCode) si vous voulez compiler des programmes  à partir des sources ou si vous avez l'intention d'installer d'autres paquets Fink reliés à X11.</p></li>
<li><p>La version 4.4.x de XFree86 compilée via Fink : installez les paquets <tt style="white-space: nowrap;">xfree86</tt> et <tt style="white-space: nowrap;">xfree86-shlibs</tt></p></li>
<li><p>X.org compilé via Fink : installez les paquets <tt style="white-space: nowrap;">xorg</tt> et <tt style="white-space: nowrap;">xorg-shlibs</tt></p></li>
</ul><p>Sous Jaguar, les choix les plus courants et les paquets Fink qui leur correspondent sont les suivants :</p><ul>
<li>
<p>La version 4.2.x de XFree86 compilée via Fink : installez <tt style="white-space: nowrap;">xfree86-base</tt> et <tt style="white-space: nowrap;">xfree86-rootless</tt> ou <tt style="white-space: nowrap;">xfree86-base-threaded</tt> et <tt style="white-space: nowrap;">xfree86-rootless-threaded</tt> (et les paquets <tt style="white-space: nowrap;">-shlibs</tt> correspondants)</p>
</li>
<li>
<p>La version 4.3.x de XFree86 compilée via Fink : installez les paquets <tt style="white-space: nowrap;">xfree86</tt> et <tt style="white-space: nowrap;">xfree86-shlibs</tt></p>
</li>
<li>
<p>La version 4.2.x d'Apple (en supposant que vous avez installé les paquets User et SDK). Le paquet <tt style="white-space: nowrap;">system-xfree86</tt> est généré automatiquement, NE l'installez PAS. Notez que la version bêta publique de X11 d'Apple pour Jaguar n'est plus disponible, aussi ce n'est une option que pour ceux d'entre vous qui l'avez déjà installé au temps où elle était encore disponible.</p>
</li>
</ul><p>Il existe encore d'autres options. Vous trouverez tous les détails dans le <a href="http://www.finkproject.org/doc/x11/index.php">document Utilisation de X11</a>.</p></div>
</a>
<a name="usage-general.no-display">
<div class="question"><p><b>Q8.6: Au lancement d'une application, un message signale que la fenêtre d'affichage ne peut être ouverte (message en anglais: "cannot open display:"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Cette erreur signifie que le système n'est pas connecté à l'affichage X. Assurez-vous que vous avez suivi les étapes suivantes :</p><p>1. Démarrer X (X11 d'Apple, XFree86, ...).</p><p>2. Vérifier que la variable d'environnement DISPLAY est définie correctement. Si vous utilisez les paramètres par défaut pour X, vous pouvez la définir de la façon suivante :</p><pre>setenv DISPLAY :0</pre><p>si vous utilisez <tt style="white-space: nowrap;">tcsh</tt>, ou</p><pre>export DISPLAY=:0</pre><p>si vous utilisez <tt style="white-space: nowrap;">bash</tt>.</p></div>
</a>
<a name="usage-general.suggest-package">
<div class="question"><p><b>Q8.7: Certains programmes ne sont pas disponibles via Fink. Comment faire en sorte qu'ils soient inclus dans Fink ?</b></p></div>
<div class="answer"><p><b>A:</b> Déposez une requête dans le <a href="http://sourceforge.net/tracker/?atid=371315&amp;group_id=17203">Traqueur de requêtes de paquet (Package Request Tracker en anglais)</a> accessible sur la page du projet Fink.</p><p>Notez que vous devez avoir un identifiant SourceForge pour ce faire.</p></div>
</a>
<a name="usage-general.virtpackage">
<div class="question"><p><b>Q8.8: À quoi correspondent les "paquets virtuels" <tt style="white-space: nowrap;">system-*</tt> qui apparaissent de-ci de-là, mais qu'il ne semble pas possible d'installer ou de supprimer soi-même ?</b></p></div>
<div class="answer"><p><b>A:</b> Les paquets tel <tt style="white-space: nowrap;">system-perl</tt> sont des paquets fantômes. Ils ne contiennent aucun fichier, mais font partie d'un mécanisme qui permet à Fink de savoir quels programmes ont été installés en dehors de Fink.</p><p>À partir de la distribution 10.3, la plupart de ces paquets fantômes ne sont même plus des paquets réels que vous pouvez installer ou supprimer. Ce sont des "Paquets virtuels", c'est-à-dire des structures de données de paquets générées par le programme fink au vu d'une liste préconfigurée de paquets installés manuellement. Pour chaque paquet virtuel, fink vérifie l'existence de certains fichiers à certains emplacements. S'ils les trouvent, il considère que le paquet virtuel correspondant est "installé".</p><p>Vous pouvez exécuter le programme <tt style="white-space: nowrap;">fink-virtual-pkgs</tt> (qui fait partie du paquet fink) pour obtenir la liste des choses que fink considère comme installées. En ajoutant l'option <tt style="white-space: nowrap;">--debug</tt>, vous obtiendrez la liste des tests que fink effectue.</p><p>Malheureusement, il n'existe pas de mécanisme qui permette à Fink de reconnaître un paquet arbitraire installé hors de fink, l'empêchant ainsi d'installer sa propre version dudit programme. C'est beaucoup trop difficile de tester les options de configuration et de compilation, les chemins, etc... dans le cas général.</p><p>Voici les paquets virtuels les plus importants définis par fink (à partir de la version 0.19.2) :</p><ul>
<li>system-perl : [paquet virtuel correspondant à perl]
<p>Il représente le programme <tt style="white-space: nowrap;">/usr/bin/perl</tt>, qui fait partie de l'installation par défaut de Mac OS X. Ce paquet fournit aussi <tt style="white-space: nowrap;">system-perlXXX</tt> et <tt style="white-space: nowrap;">perlXXX-core</tt> selon la version X.X.X de l'interpréteur perl.</p>
</li>
<li>system-javaXXX : [paquet virtuel correspondant à Java X.X.X]
<p>Il représente l'environnement d'exécution de Java (JRE), qui fait partie de Mac OS X (et des mises à jour d'Apple). Voir la <a href="http://www.apple.com/java">page Java d'Apple</a> pour de plus amples informations.</p>
</li>
<li>system-javaXXX-dev : [paquet virtuel correspondant aux headers de développement Java X.X.X]
<p>Il représente le SDK (kit de développement) de Java, qui doit être téléchargé et installé à partir de <a href="http://connect.apple.com">connect.apple.com</a> (enregistrement gratuit obligatoire). Si vous avez mis à jour le JRE, il est possible que le SDK ne soit pas automatiquement mis à jour ou même qu'il ait été supprimé. Vérifiez systématiquement le SDK après installation ou mise à jour du JRE, puis téléchargez-le et installez-le si nécessaire. Voir aussi <a href="#comp-general.system-java">la QFP à propos de system-java14-dev</a>.</p>
</li>
<li>system-java3d : [paquet virtuel représentant Java3D]</li>
<li>system-javaai : [paquet virtuel représent Java Advanced Imaging]
<p>Ils représentent les extensions Java pour les graphiques 3D et le traitement d'images, qui peuvent être téléchargées et installées à partir du site d'Apple. Voir la <a href="http://docs.info.apple.com/article.html?artnum=120289">page web d'Apple à propos de la mise  à jour de Java 3D et de Java Advanced Imaging</a> pour de plus amples informations.</p>
</li>
<li>system-xfree86 : [paquet fantôme pour un paquet x11 installé manuellement]</li>
<li>system-xfree86-shlibs : [paquet fantôme pour les bibliothèques partagées x11 installées manuellement]
<p>Ils représentent X11/XDarwin d'Apple, partie optionnelle de Mac OS X correspondant au paquet X11User.pkg. Ces paquets fournissent respectivement <tt style="white-space: nowrap;">x11</tt> et <tt style="white-space: nowrap;">x11-shlibs</tt>. Voir aussi <a href="#comp-packages.cant-install-xfree">la QFP à propos du passage à la version XFree86 de Fink</a>.</p>
</li>
<li>system-xfree86-dev : [paquet fantôme pour les outils de développement x11 installés manuellement]
<p>Il représente X11/XDarwin SDK d'Apple, partie optionnelle de Mac OS X correspondant au paquet X11SDK.pkg. Ce paquet fournit <tt style="white-space: nowrap;">x11-dev</tt>. Voir aussi <a href="#comp-packages.cant-install-xfree">la QFP à propos du passage à la version XFree86 de Fink</a>.
</p>
</li>
</ul></div>
</a>
<h2><a name="usage-packages">9 Problèmes d'utilisation spécifiques à certains paquets</a></h2>


<a name="usage-packages.xmms-quiet">
<div class="question"><p><b>Q9.1: Aucun son n'est disponible dans XMMS. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Vérifiez que vous avez sélectionné "eSound Output Plugin" dans les préférences de XMMS. Pour d'obscures raisons, c'est le plugin d'écriture sur le disque qui est sélectionné par défaut.</p><p>Si cela ne résout pas le problème ou si XMMS se plaint qu'il ne peut trouver votre carte son, essayez ceci :</p><ul>
<li>Vérifiez que la sortie son n'est pas réglée sur silence dans Mac OS X.</li>
<li>Lancez la commande <tt style="white-space: nowrap;">esdcat /usr/libexec/config.guess</tt> ou fournissez à la commande esdcat n'importe quel autre fichier de taille significative. Si vous entendez un petit bruit, cela signifie que eSound fonctionne et que XMMS devrait fonctionner, lui aussi, à condition d'être configuré correctement. Si vous n'entendez rien, cela signifie que la commande esd ne fonctionne pas pour une raison indéterminée. Vous pouvez tenter de la lancer manuellement via la commande <tt style="white-space: nowrap;">esd &amp;</tt>, puis analysez les messages.</li>
<li>Si eSound ne fonctionne toujours pas, vérifiez les permissions des fichiers <tt style="white-space: nowrap;">/tmp/.esd</tt> et <tt style="white-space: nowrap;">/tmp/.esd/socket</tt>. Le propriétaire doit être votre compte utilisateur. Si ce n'est pas le cas, tuez le démon esd s'il est en cours de fonctionnement, supprimez le répertoire en tant que super-utilisateur via la commande <tt style="white-space: nowrap;">sudo rm -rf /tmp/.esd</tt>, puis redémarrez esd (en tant qu'utilisateur lambda, pas en tant que super-utilisateur).</li>
</ul><p>Notez que esd est conçu pour être lancé par un utilisateur lambda, pas par le super-utilisateur. Il communique, en général, via la socket système <tt style="white-space: nowrap;">/tmp/.esd/socket</tt>. Vous n'avez besoin des options <tt style="white-space: nowrap;">-tcp</tt> et <tt style="white-space: nowrap;">-port</tt> que si vous voulez lancer des clients esd sur une autre machine du réseau.</p><p>Certaines personnes ont signalé que XMMS se plantait ou se bloquait sur 10.1. Il n'y a pas eu à ce jour d'analyse ou de solution à ce phénomène.</p></div>
</a>
<a name="usage-packages.nedit-window-locks">
<div class="question"><p><b>Q9.2: Lors de la modification d'un fichier dans nedit, si l'on tente d'ouvrir un autre fichier, sa fenêtre apparaît mais elle ne répond pas. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> C'est un problème connu qui se produit avec des versions récentes de <tt style="white-space: nowrap;">nedit</tt> et <tt style="white-space: nowrap;">lesstif</tt> sur toutes les plates-formes. La solution est d'ouvrir une nouvelle fenêtre via le menu File--&gt;New, puis d'ouvrir le nouveau fichier sur lequel vous voulez travailler.</p><p>Ce problème est résolu dans la version <tt style="white-space: nowrap;">nedit-5.3-6</tt>, qui dépend d'<tt style="white-space: nowrap;">openmotif3</tt> et non plus de <tt style="white-space: nowrap;">lesstif</tt>.</p></div>
</a>
<a name="usage-packages.xdarwin-start">
<div class="question"><p><b>Q9.3: XDarwin quitte immédiatement après lancement. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Pas de panique. Vous trouverez dans le document Utilisation de X11 une large section <a href="http://www.finkproject.org/doc/x11/trouble.php#immediate-quit">résolution de problèmes</a> à ce sujet.</p></div>
</a>
<a name="usage-packages.no-server">
<div class="question"><p><b>Q9.4: Au démarrage de XDarwin, un message indique que le fichier xinit est introuvable et qu'il n'existe pas de server X accessible dans le répertoire /usr/X11R6/bin (message en anglais : "xinit: No such file or directory (errno 2): no server "/usr/X11R6/bin/X" in PATH"). Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Tout d'abord, vérifiez que vous sourcez init.sh dans le fichier de démarrage de X <tt style="white-space: nowrap;">~/.xinitrc</tt>.</p><p>Sous Jaguar, il arrive parfois que tous les paquets <tt style="white-space: nowrap;">xfree86</tt> soient compilés, mais que seuls les paquets <tt style="white-space: nowrap;">xfree86-base</tt> et <tt style="white-space: nowrap;">xfree86-base-shlibs</tt> soient installés. Vérifiez que les paquets <tt style="white-space: nowrap;">xfree86-rootless</tt> et <tt style="white-space: nowrap;">xfree86-rootless-shlibs</tt> sont installés. Si ce n'est pas le cas, lancez <tt style="white-space: nowrap;">fink install xfree86-rootless</tt>. Cela devrait résoudre le problème.</p><p>Si ces paquets sont installés, essayez la commande <tt style="white-space: nowrap;">fink rebuild xfree86-rootless</tt>. Si cela ne marche pas, vérifiez que le répertoire <tt style="white-space: nowrap;">/usr/bin/X11R6</tt> est dans votre PATH.</p></div>
</a>

<a name="usage-packages.apple-x-delete">
<div class="question"><p><b>Q9.5: Comment avoir sous X11 d'Apple le même comportement de la touche suppr que sous XDarwin ?</b></p></div>
<div class="answer"><p><b>A:</b> Certains utilisateurs ont signalé que la touche <tt style="white-space: nowrap;">suppr</tt> se comporte différemment sous XDarwin et sous X11 d'Apple. On peut rectifier cela en ajoutant les lignes suivantes au fichier de démarrage approprié de X :</p><p>Dans le fichier <b>.Xmodmap</b>, rajoutez la ligne :</p><pre>keycode 59 = Delete</pre><p>Dans le fichier <b>.Xresources</b>, rajoutez les lignes :</p><pre>xterm*.deleteIsDEL: true 
xterm*.backarrowKey: false
xterm*.ttyModes: erase ^?</pre><p>Dans le fichier <b>.xinitrc</b>, rajoutez les lignes :</p><pre>xrdb -load $HOME/.Xresources 
xmodmap $HOME/.Xmodmap</pre><p></p></div>
</a>
<a name="usage-packages.gnome-two">
<div class="question"><p><b>Q9.6: Après passage de GNOME 1.x à GNOME 2.x, le programme <tt style="white-space: nowrap;">gnome-session</tt> n'ouvre plus de gestionnaire de fenêtres. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Alors que, sous GNOME 1.x, <tt style="white-space: nowrap;">gnome-session</tt> invoque automatiquement le gestionnaire de fenêtres <tt style="white-space: nowrap;">sawfish</tt>, sous GNOME 2.x, vous devez vous-même appeler un gestionnaire de fenêtres dans le fichier <tt style="white-space: nowrap;">~/.xinitrc</tt> avant de lancer <tt style="white-space: nowrap;">gnome-session</tt>, par exemple :</p><pre>... 
exec metacity &amp; exec gnome-session</pre><p>Note : ceci n'est plus vrai pour <b>GNOME 2.4</b>. Le lancement de <tt style="white-space: nowrap;">gnome-session</tt> invoque un gestionnaire de fenêtres.</p></div>
</a>
<a name="usage-packages.apple-x11-no-windowbar">
<div class="question"><p><b>Q9.7: Après passage à X11 d'Apple sous Panther, les barres de titre de fenêtre n'apparaissent plus. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Vous n'êtes pas passé à la version "X11 1.0 - XFree86 4.3.0" incluse dans Panther. Vous devez installer X11 à partir du paquet X11.pkg qui est situé sur le disque 3.</p></div>
</a>
<a name="usage-packages.apple-x11-wants-xfree86">
      <div class="question"><p><b>Q9.8: I'm having problems with X11 and Fink.</b></p></div>
      <div class="answer"><p><b>A:</b> There are two possibilities to consider.</p><ul>
          <li>
            <b>You are installing from binaries:</b>
            <p>Typically what you need to do is reinstall the X11User package,
	    since the installer application occasionally misses installing a file.
	    You may need to repeat this multiple times. Running</p>
	    <pre>fink list -i system-xfree86</pre>
	    <p>should show that the <tt style="white-space: nowrap;">system-xfree86</tt> and
	    <tt style="white-space: nowrap;">system-xfree86-shlibs</tt> packages are installed, and</p>
	    <pre>fink list x11</pre>
	    <p>should indicate that the <tt style="white-space: nowrap;">x11-shlibs</tt> and <tt style="white-space: nowrap;">x11</tt> virtual
	    packages are present.</p>
	    <p>If reinstalling the X11User package doesn't work, then consult the
	    <a href="#usage-packages.special-x11-debug">special debug</a> instructions,
	    below.</p>
          </li>
          <li>
            <b>You are installing from source:</b>
	    <p>Typically this error means that you need to (re)install the X11SDK,
	    which is <b>mandatory</b> if you want to build packages from source.
            It is in the Xcode Tools folder of a Tiger DVD, or (Optional
            Installs/)Xcode Tools/Packages on your Leopard DVD(s). If you
            run</p>
            <pre>fink list -i system-xfree86  </pre>
            <p>it should show the <tt style="white-space: nowrap;">system-xfree86</tt>,
	    <tt style="white-space: nowrap;">system-xfree86-shlibs</tt>, and <tt style="white-space: nowrap;">system-xfree86-dev</tt>
	    packages as installed.  If the <tt style="white-space: nowrap;">-dev</tt> package is missing,
	    reinstall the X11SDK, since sometimes the Apple Installer misses a
	    file.  You may need to keep doing this.  If either of the other two
	    are missing, then reinstall the X11User package (same reason).  At
	    this point</p>
	    <pre>fink list x11</pre>
	    <p>should indicate that the <tt style="white-space: nowrap;">x11-dev</tt>, <tt style="white-space: nowrap;">x11-shlibs</tt>,
	    and <tt style="white-space: nowrap;">x11</tt> virtual packages are present.</p>
	    <p>If reinstalling the X11SDK or X11User package doesn't work, then consult the
	    <a href="#usage-packages.special-x11-debug">special debug</a> instructions,
	    below.</p>
           </li>
        </ul></div>
    </a>
    
<a name="usage-packages.special-x11-debug">
<div class="question"><p><b>Q9.9: Des problèmes persistent entre X11 et Fink. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Si les solutions données aux sections <a href="#usage-packages.apple-x11-wants-xfree86">Fink continue à vouloir installer XFree86 ou X.org</a> ou <a href="#usage-packages.wants-xfree86-on-upgrade">Fink veut installer XFree86</a> ne résolvent pas votre problème, ou ne sont pas applicables à votre cas, vous devrez supprimer entièrement X11 et tous les paquets fantômes antérieurs ainsi que les paquets relatifs à X11, qu'ils soient installés partiellement ou non via les commandes:</p><p>On Leopard, use</p><pre>
sudo pkgutil --forget com.apple.pkg.X11User
sudo pkgutil --forget com.apple.pkg.X11SDKLeo
</pre><p>Then, on either 10.4 or 10.5, run</p><pre>sudo dpkg -r --force-all system-xfree86 system-xfree86-42 \
system-xfree86-43 xorg xorg-shlibs xfree86 xfree86-shlibs \
xfree86-base xfree86-base-shlibs xfree86-rootless \
xfree86-rootless-shlibs \
xfree86-base-threaded xfree86-base-threaded-shlibs \
xfree86-rootless-threaded xfree86-rootless-threaded-shlibs
rm -rf /Library/Receipts/X11SDK.pkg /Library/Receipts/X11User.pkg
fink selfupdate; fink index</pre><p>(the first line may give you warnings about trying to remove
	nonexistent packages).  Then, reinstall Apple's X11 (and the X11SDK, if
	needed), or,
	if you're on 10.4, an alternative X11 implementation, like XFree86 or X.org.</p><p>If you are still having problems then you can run</p><pre>fink-virtual-pkgs --debug</pre><p>pour savoir quels sont les paquets manquants.</p><p>Si vous utilisez une version antérieure de <tt style="white-space: nowrap;">fink</tt>, vous pouvez télécharger et lancer un script Perl, écrit par Martin Costabel, qui fournit les mêmes informations.</p><ul>
<li>Vous le trouverez sur <a href="http://perso.wanadoo.fr/costabel/fink-x11-debug">http://perso.wanadoo.fr/costabel/fink-x11-debug</a>
</li>
<li>Sauvegardez-le où vous voulez.</li>
<li>Lancez-le dans une fenêtre de terminal via la commande :
<pre>perl fink-x11-debug</pre>
</li>
</ul></div>
</a>
<a name="usage-packages.tiger-gtk">
<div class="question"><p><b>Q9.10: Après passage à Tiger (Mac OS X 10.4), des erreurs à propos de <tt style="white-space: nowrap;">_EVP_idea_cbc</tt> apparaissent chaque fois qu'on utilise une application Gtk. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Ceci était, apparemment, dû à un bogue dans le chargeur de liens dynamiques de Tiger (au moins jusqu'à la version 10.4.1), mais il semble être corrigé dans la version 10.4.3. Fink proposait une solution dans le fichier <tt style="white-space: nowrap;">base-files-1.9.7-1</tt> et les versions suivantes.</p><p>Si vous n'êtes pas passé à Tiger et/ou n'avez pas mis à jour le paquet <tt style="white-space: nowrap;">base-files</tt>, vous pouvez corriger ce problème en préfixant le nom du logiciel que vous souhaitez lancer avec le fragment de code suivant :</p><pre>env DYLD_FALLBACK_LIBRARY_PATH=: </pre><p>Par exemple si vous voulez lancer <tt style="white-space: nowrap;">gnucash</tt>, utilisez la commande :</p><pre>env DYLD_FALLBACK_LIBRARY_PATH=: gnucash</pre><p>Cette méthode fonctionne pour les applications lancées à partir du menu Applications de X11 d'Apple ou à partir du terminal.</p><p>Vous pouvez aussi déclarer la variable au niveau global (par exemple dans votre script de démarrage et/ou dans votre fichier<tt style="white-space: nowrap;">.xinitrc</tt>, ce qui peut-être nécessaire pour faire tourner GNOME). Mettez le fragment de code suivant :</p><pre>export DYLD_FALLBACK_LIBRARY_PATH=:</pre><p>dans votre fichier <tt style="white-space: nowrap;">.xinitrc</tt> (quel que soit votre shell d'ouverture de session) ou dans le fichier <tt style="white-space: nowrap;">.profile</tt> (ou tout autre script de démarrage) pour les utilisateurs de <b>bash</b>.</p><pre>setenv DYLD_FALLBACK_LIBRARY_PATH :</pre><p>est la commande équivalente à utiliser, par exemple dans votre fichier <tt style="white-space: nowrap;">.cshrc</tt> pour les utilisateurs de <b>tcsh</b>.</p><p>Note : ceci est fait automatiquement quand on installe une version suffisamment récente du fichier <tt style="white-space: nowrap;">base-files</tt>.</p></div>
</a>
<a name="usage-packages.yelp">
<div class="question"><p><b>Q9.11: Il est impossible d'accéder à l'aide dans aucune application GNOME. Que faire ?</b></p></div>
<div class="answer"><p><b>A:</b> Vous devez installer le paquet <tt style="white-space: nowrap;">yelp</tt>. Ce paquet n'est pas inséré dans le fagot GNOME, car il utilise des outils cryptographiques, et nous avons décidé de ne pas installer l'ensemble de GNOME dans la branche cryptographique, juste pour pouvoir utiliser le système d'aide.</p></div>
</a>
<hr><h2>Copyright Notice</h2><p>Copyright (c) 2001 Christoph Pfisterer,
Copyright (c) 2001-2010 The Fink Project.
You may distribute this document in print for private purposes,
provided the document and this copyright notice remain complete and
unmodified. Any commercial reproduction and any online publication
requires the explicit consent of the author.</p><hr>
<p>Generated from <i>$Fink: faq.fr.xml,v 1.81 2009/10/25 05:21:38 babayoshihiko Exp $</i></p></body></html>
